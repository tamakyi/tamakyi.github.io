<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Acfunlive on 狼的公告板 ver.Hugo</title><link>https://blog.tama.guru/tags/acfunlive.html</link><description>Recent content in Acfunlive on 狼的公告板 ver.Hugo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>tamakyi</copyright><lastBuildDate>Thu, 14 Aug 2025 03:37:47 +0000</lastBuildDate><atom:link href="https://blog.tama.guru/tags/acfunlive/index.xml" rel="self" type="application/rss+xml"/><item><title>解决AcFunLive的mirai机器人无法使用的问题</title><link>https://blog.tama.guru/record/acfunlive-mirai.html</link><pubDate>Fri, 05 May 2023 23:35:47 +0800</pubDate><guid>https://blog.tama.guru/record/acfunlive-mirai.html</guid><description>&lt;p>*注意，mirai无法启动仅针对在windows下使用时出现，linux并无此问题。&lt;/p>
&lt;p>使用最新的acfunlive源码编译windows-gui并使用时发现，执行
&lt;code>acfunlive.exe -mirai&lt;/code>
会直接开始程序的运行，跳过mirai登录验证场景并报错：
&lt;code>error: read /dev/stdin: The handle is invalid&lt;/code>
这个问题苦恼了我很久，之前都时再开个linux虚拟机单独跑录播机器人，但是一想到之前也碰到过mirai机器人无法登录的问题，最终解决方式是通过gocqhttp生成device和session文件替换到程序目录中以骗过程序你已经登陆过了。
以下是操作流程：&lt;/p>
&lt;ol>
&lt;li>下载并配置go-cqhttp
到官网下载当前环境配置版本的go-cqhttp，此处我是windows，直接下载&lt;a class="link" href="https://github.com/Mrs4s/go-cqhttp/releases/download/v1.0.1/go-cqhttp_windows_amd64.exe" target="_blank" rel="noopener"
>windows_x64&lt;/a>版本。下载后双击运行exe，提示无法直接运行，之后生成一个bat文件，双击&lt;code>go-cqhttp.bat&lt;/code>文件运行，然后输入1回车，提示&lt;code>默认配置文件已生成，请修改 config.yml 后重新启动!&lt;/code>后关闭窗口。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/64551e91cd25b.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551e91cd25b.png" alt="2023-05-05T15:19:44.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551e91cd25b.png"
loading="lazy"
alt="2023-05-05T15:19:44.png"
>
修改&lt;code>config.yml&lt;/code>，主要是修改uin这一项，其他不用管（因为之后使用的是watch协议登录，所以不需要填密码），修改后保存文件。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/64551f1085317.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551f1085317.png" alt="2023-05-05T15:21:51.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551f1085317.png"
loading="lazy"
alt="2023-05-05T15:21:51.png"
>
再次双击&lt;code>go-cqhttp.bat&lt;/code>文件运行，在提示&lt;code>Bot将在5秒后登录并开始信息处理, 按 Ctrl+C 取消.&lt;/code>后按Ctrl+C中断程序运行。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/64551fac3c9af.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551fac3c9af.png" alt="2023-05-05T15:24:27.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64551fac3c9af.png"
loading="lazy"
alt="2023-05-05T15:24:27.png"
>
然后目录下会生成一个&lt;code>device.json&lt;/code>文件，打开并将&lt;code>&amp;quot;protocol&amp;quot;:6&lt;/code>的值修改成&lt;code>2&lt;/code>，保存。然后再次双击&lt;code>go-cqhttp.bat&lt;/code>文件运行，一段时间后他会提示你扫码登录，使用登录了同一个账号的手机扫码会提示是一个手表设备，确认登录。等出现如下内容时可以关闭程序。并看到目录下生成了&lt;code>sesssion.token&lt;/code>这个文件。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/645520dc60a55.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/645520dc60a55.png" alt="2023-05-05T15:29:31.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/645520dc60a55.png"
loading="lazy"
alt="2023-05-05T15:29:31.png"
>&lt;/li>
&lt;li>修改acfunlive配置
把gocqhttp目录下的&lt;code>sesssion.token&lt;/code>和&lt;code>device.json&lt;/code>复制到acfunlive目录（保险起见可以全部复制过去），然后将其重命名为&lt;code>qqsesssion.token&lt;/code>和&lt;code>qqdevice.json&lt;/code>，此时目录结构如下所示。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/6455217dd9f5c.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/6455217dd9f5c.png" alt="2023-05-05T15:32:12.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/6455217dd9f5c.png"
loading="lazy"
alt="2023-05-05T15:32:12.png"
>
此时在powershell下执行&lt;code>.\acfunlive.exe -mirai&lt;/code>或者正常启动到&lt;code>http://localhost:51880/startmirai&lt;/code>再打开&lt;code>http://localhost:51880/log&lt;/code>可以看到已经登录成功了。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/05/05/64552211c7de8.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64552211c7de8.png" alt="2023-05-05T15:34:40.png" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/05/05/64552211c7de8.png"
loading="lazy"
alt="2023-05-05T15:34:40.png"
>
如果提示要扫码，那么会在acfunlive的目录下有一个&lt;code>qqqrcode.png&lt;/code>文件，打开用手机扫码登录即可。&lt;/li>
&lt;/ol></description></item></channel></rss>