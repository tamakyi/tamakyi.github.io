<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ssh on 狼的公告板 ver.Hugo</title><link>https://blog.tama.guru/tags/ssh.html</link><description>Recent content in Ssh on 狼的公告板 ver.Hugo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>tamakyi</copyright><lastBuildDate>Tue, 26 Aug 2025 04:13:37 +0000</lastBuildDate><atom:link href="https://blog.tama.guru/tags/ssh/index.xml" rel="self" type="application/rss+xml"/><item><title>给SSH添加邮件登录提醒</title><link>https://blog.tama.guru/record/ssh_login_mail.html</link><pubDate>Tue, 26 Dec 2023 22:09:04 +0800</pubDate><guid>https://blog.tama.guru/record/ssh_login_mail.html</guid><description>&lt;p>影响SSH登录安全性的因素不外乎：禁用密码登录、密钥强度、修改默认端口、仅指定IP登录，但是如果每次登录的时候能够及时的发一封邮件提醒，可以更好的管控服务器登录状态，也能更安心些。&lt;/p>
&lt;p>需要用到&lt;code>msmtp&lt;/code>和&lt;code>mutt&lt;/code>两个软件。&lt;/p>
&lt;h4 id="安装所需软件">安装所需软件：
&lt;/h4>&lt;p>对于Centos：
&lt;code>yum install msmtp mutt&lt;/code>
对于debian系：
&lt;code>apt install msmtp mutt&lt;/code>
对于arch系用户：
&lt;code>pacman -S msmtp mutt&lt;/code>&lt;/p>
&lt;h4 id="配置msmtp">配置msmtp
&lt;/h4>&lt;p>其实msmtp就是一个支持服务器配置文件的轻型SMTP客户端，配合mutt可以达到邮件发送的效果。
对于debian系统，可以在
&lt;code>/usr/share/doc/msmtp/examples/&lt;/code>
下找到默认配置文件。其中&lt;code>msmtprc-system.example&lt;/code>代表全局配置，&lt;code>msmtprc-user.example&lt;/code>代表用户配置。如果需要所有用户都使用这个配置，则可以执行
&lt;code>cat /usr/share/doc/msmtp/examples/ &amp;gt; /etc/msmtprc&lt;/code>
然后修改&lt;code>/etc/msmtprc&lt;/code>文件：
&lt;em>注意，实际使用时不要吧中文注释也复制进去&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Example for a system wide configuration file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># A system wide configuration file is optional.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># If it exists, it usually defines a default account.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># This allows msmtp to be used like /usr/sbin/sendmail.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">account default
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The SMTP smarthost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host smtp.qq.com #SMTP域名，例如QQ邮箱为smtp.qq.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Use TLS on port 465
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">port 465 #465为默认smtp tls端口，如果选择不加密一般改成25
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tls on #是否开启TLS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tls_starttls off # STARTTLS是对纯文本通讯协议的扩展。它提供一种方式将纯文本链接升级为加密链接（TLS或SSL），而不是另外使用一个端口做加密通讯。我在使用过程中发现开启时大概率发送失败，可能和qq的smtp服务器有关，因此保持默认关闭即可。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Construct envelope-from addresses of the form &amp;#34;user@oursite.example&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">from xxx@qq.com #发送邮件的地址，以qq邮箱为例
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth on #启用验证
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">user xxx@qq.com #用户名，以qq邮箱为例
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">password xxxxxxxx #这里填授权码或密码
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Syslog logging with facility LOG_MAIL instead of the default LOG_USER
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">syslog LOG_MAIL
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>保存文件后可以执行&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">echo &amp;#34;this is a test&amp;#34;|msmtp -v 收件邮箱@qq.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后会看到服务器执行邮件发送的操作：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 220 smtp.qq.com MX Tencent Server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; EHLO localhost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250-smtp.qq.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250-8BITMIME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250-AUTH=PLAIN LOGIN XALIOAUTH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250-AUTH PLAIN LOGIN XALIOAUTH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250-PIPELINING
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250 DSN
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; AUTH PLAIN *******************************
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 235 Authentication successful
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; MAIL FROM:&amp;lt;xxx@qq.com&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; RCPT TO:&amp;lt;收件邮箱@qq.com&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; DATA
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250 Mail Ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250 Rcpt Ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 354 End data with &amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;.&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; From: xxx@qq.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; Date: Tue, 26 Dec 2023 21:10:21 +0800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; test infomation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 250 Data Ok: queued as freedom
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--&amp;gt; QUIT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;-- 221 Bye
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>得到类似以上的信息，可以判定配置配置无误了。如果收件箱并没有看到邮件，需要到寄件邮箱查询是否被当成垃圾邮件拒收了。当然这并不影响后续使用，因为这本身就是一封只有英文标题无任何内容的邮件，很容易被ban掉。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/12/26/658adb8d00c1a.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/12/26/658adb8d00c1a.png" alt="被拦截了" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/12/26/658adb8d00c1a.png"
loading="lazy"
alt="被拦截了"
>&lt;/p>
&lt;p>最后，我们还需要修改&lt;code>/etc/Muttrc&lt;/code>，在最后面加上：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">set sendmail=&amp;#34;/usr/bin/msmtp&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set use_from=yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set realname=&amp;#34;你想要显示的发送名称&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">set from=xxx@qq.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="生成配置文件">生成配置文件
&lt;/h4>&lt;p>在&lt;code>/etc/ssh&lt;/code>下生成并编辑&lt;code>ssh_alarm.sh&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano /etc/ssh/ssh_alarm.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>文件内容如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">SSH_CONNECTION&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;$SSH_CONNECTION:not exists&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#定义变量&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">from_ip&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">SSH_CONNECTION&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print$1}&amp;#39;&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">from_port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">SSH_CONNECTION&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print$2}&amp;#39;&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">server_ip&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">SSH_CONNECTION&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print$3}&amp;#39;&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">user&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">LOGNAME&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">hostname_1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">HOSTNAME&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="s2">&amp;#34;(&amp;#34;&lt;/span> &lt;span class="nv">$server_ip&lt;/span> &lt;span class="s2">&amp;#34;)&amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">server_time&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="k">$(&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%d %R&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">e_mail&lt;/span>&lt;span class="o">=&lt;/span>收件地址@qq.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#IP白名单，192.168.1.1这个IP登录时不提示&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ip_exit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">from_ip&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="p">|&lt;/span>cut -d &lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span> -f 1,2,3&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">ip_exit&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;192.168.1.1&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#用户登录白名单，username这个用户登录时不提示&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">user&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#Send mail&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> -e &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">**********SSH登录警告**********\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 登录主机:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">hostname_1&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 登录用户:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">user&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 登录时间:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">server_time&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 登录IP:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">from_ip&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 登录IP端口:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">from_port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">\n
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 请注意核查是否可信登录，如非可信，请立即更换密匙和密码。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">******************************&amp;#34;&lt;/span>&lt;span class="p">|&lt;/span>mutt -s &lt;span class="s2">&amp;#34;服务器SSH登录警告&amp;#34;&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">e_mail&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>保存后执行：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">bash /etc/ssh/ssh_alarm.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>执行完毕不会有任何回显，但是收件端&lt;code>收件地址@qq.com&lt;/code>应该会收到邮件：
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/12/26/658addbc2a019.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/12/26/658addbc2a019.png" alt="成功收到邮件" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/12/26/658addbc2a019.png"
loading="lazy"
alt="成功收到邮件"
>
最后需要配置一个sshrc文件，这个文件的作用是当连接ssh时自动执行文件内的脚本：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nano /etc/ssh/sshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>文件内容如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">bash /etc/ssh/ssh_alarm.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>保存之后再次登录ssh服务器，就会自动执行&lt;code>ssh_alarm.sh&lt;/code>脚本发送邮件了。&lt;/p></description></item></channel></rss>