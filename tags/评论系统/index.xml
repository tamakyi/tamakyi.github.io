<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>评论系统 on 狼的公告板 ver.Hugo</title><link>https://blog.tama.guru/tags/%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F.html</link><description>Recent content in 评论系统 on 狼的公告板 ver.Hugo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>tamakyi</copyright><lastBuildDate>Tue, 26 Aug 2025 04:13:37 +0000</lastBuildDate><atom:link href="https://blog.tama.guru/tags/%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/index.xml" rel="self" type="application/rss+xml"/><item><title>在静态网站上使用waline评论系统</title><link>https://blog.tama.guru/record/waline-on-html.html</link><pubDate>Sun, 10 Mar 2024 01:24:00 +0800</pubDate><guid>https://blog.tama.guru/record/waline-on-html.html</guid><description>&lt;h4 id="waline是什么">Waline是什么
&lt;/h4>&lt;blockquote>
&lt;p>一款从 Valine 衍生的带后端评论系统。可以将 Waline 等价成 With backend Valine.&lt;/p>&lt;/blockquote>
&lt;p>简单来说，Waline可以引入到任意网站上，比如hugo等搭建的静态博客系统。&lt;/p>
&lt;h4 id="为什么要用waline">为什么要用Waline
&lt;/h4>&lt;p>看到这个的第一眼我就心想：卧槽，我也要整一个！&lt;/p>
&lt;center>![文章反应功能][1]&lt;/center>
于是现在已经加入到提问箱首页了：[狼的提问箱][2]。
&lt;h4 id="怎么搭建呢">怎么搭建呢？
&lt;/h4>&lt;p>直接参考&lt;a class="link" href="https://waline.js.org/" target="_blank" rel="noopener"
>官网&lt;/a>即可，文档较为完善。推荐使用vercel+LeanCloud，可以实现无服务器搭建，当然访问速度有一些慢。&lt;/p>
&lt;h4 id="需要注意什么">需要注意什么？
&lt;/h4>&lt;p>Waline主要分为三个部分进行配置：&lt;/p>
&lt;h5 id="vercel环境变量">vercel环境变量
&lt;/h5>&lt;p>配置地址:https://vercel.com/%username%s-projects/%project_name%/settings/environment-variables
配置文档:&lt;a class="link" href="https://waline.js.org/reference/server/env.html" target="_blank" rel="noopener"
>https://waline.js.org/reference/server/env.html&lt;/a>
描述：一些全局性的配置
具体可配置项目如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">环境变量名称&lt;/th>
&lt;th style="text-align: center">默认值&lt;/th>
&lt;th style="text-align: center">备注&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">LEAN_ID&lt;/td>
&lt;td style="text-align: center">-&lt;/td>
&lt;td style="text-align: center">LeanCloud 应用的 App ID&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">LEAN_KEY&lt;/td>
&lt;td style="text-align: center">-&lt;/td>
&lt;td style="text-align: center">LeanCloud 应用的 App Key&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">LEAN_MASTER_KEY&lt;/td>
&lt;td style="text-align: center">-&lt;/td>
&lt;td style="text-align: center">LeanCloud 应用的 Master Key 用于后台修改数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">LEAN_SERVER&lt;/td>
&lt;td style="text-align: center">-&lt;/td>
&lt;td style="text-align: center">LeanCloud 服务地址，国内版用户需要配置此项&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SITE_NAME&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">博客名称&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SITE_URL&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">博客地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">LOGIN&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">当设置为 LOGIN=force 时会要求登录才能评论&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">DISABLE_USERAGENT&lt;/td>
&lt;td style="text-align: center">false&lt;/td>
&lt;td style="text-align: center">是否隐藏评论者的 UA，默认为否&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">DISABLE_REGION&lt;/td>
&lt;td style="text-align: center">false&lt;/td>
&lt;td style="text-align: center">是否隐藏评论者的归属地&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">DISABLE_AUTHOR_NOTIFY&lt;/td>
&lt;td style="text-align: center">false&lt;/td>
&lt;td style="text-align: center">是否禁止新评论通知&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">AVATAR_PROXY&lt;/td>
&lt;td style="text-align: center">&lt;a class="link" href="https://avatar.75cdn.workers.dev" target="_blank" rel="noopener"
>https://avatar.75cdn.workers.dev&lt;/a>&lt;/td>
&lt;td style="text-align: center">头像的代理地址，设置 false 关闭代理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">GRAVATAR_STR&lt;/td>
&lt;td style="text-align: center">&lt;a class="link" href="https://seccdn.libravatar.org/avatar/%7b%7bmail" target="_blank" rel="noopener"
>https://seccdn.libravatar.org/avatar/{{mail&lt;/a>\md5}}&lt;/td>
&lt;td style="text-align: center">Gravatar 头像的地址，基于 nunjucks 语法&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">LEVELS&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">设置后会根据评论数为每个用户提供等级标签&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">IPQPS&lt;/td>
&lt;td style="text-align: center">60&lt;/td>
&lt;td style="text-align: center">基于 IP 的评论发布频率限制，单位为秒。设置为 0 不限制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SECURE_DOMAINS&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">安全域名配置，支持逗号分隔配置多个域名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">AKISMET_KEY&lt;/td>
&lt;td style="text-align: center">70542d86693e&lt;/td>
&lt;td style="text-align: center">Akismet 反垃圾评论服务 Key (默认开启，不用请设置为 false)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">COMMENT_AUDIT&lt;/td>
&lt;td style="text-align: center">false&lt;/td>
&lt;td style="text-align: center">评论发布审核开关。开启后评论需要经过管理员审核后才能显示，所以建议在评论框默认文字上提供提示&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">RECAPTCHA_V3_KEY&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">reCAPTCHA V3 key，须与客户端同时配置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">RECAPTCHA_V3_SECRET&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">reCAPTCHA V3 secret，服务端使用，不可泄漏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TURNSTILE_KEY&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">Turnstile key，须与客户端同时配置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TURNSTILE_SECRET&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">Turnstile secret，服务端使用，不可泄漏&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_CONFIG&lt;/td>
&lt;td style="text-align: center">{}&lt;/td>
&lt;td style="text-align: center">MarkdownIt 配置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_HIGHLIGHT&lt;/td>
&lt;td style="text-align: center">true&lt;/td>
&lt;td style="text-align: center">是否启用高亮&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_EMOJI&lt;/td>
&lt;td style="text-align: center">true&lt;/td>
&lt;td style="text-align: center">是否启用 Emoji 缩写支持&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_SUB&lt;/td>
&lt;td style="text-align: center">true&lt;/td>
&lt;td style="text-align: center">是否启用下角标支持&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_SUP&lt;/td>
&lt;td style="text-align: center">true&lt;/td>
&lt;td style="text-align: center">是否启用上角标支持&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_TEX&lt;/td>
&lt;td style="text-align: center">mathjax&lt;/td>
&lt;td style="text-align: center">解析 TeX 的服务，支持 mathjax、katex、false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_MATHJAX&lt;/td>
&lt;td style="text-align: center">{}&lt;/td>
&lt;td style="text-align: center">MathJax 选项&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MARKDOWN_KATEX&lt;/td>
&lt;td style="text-align: center">{}&lt;/td>
&lt;td style="text-align: center">KaTeX 选项&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_SERVICE&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">SMTP 邮件发送服务提供商&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_HOST&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">SMTP 服务器地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_PORT&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">SMTP 服务器端口。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_USER&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">SMTP 用户名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_PASS&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">SMTP 密码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SMTP_SECURE&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">是否使用 SSL 连接 SMTP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SENDER_NAME&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">自定义发送邮件的发件人&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SENDER_EMAIL&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">自定义发送邮件的发件地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_DB&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MongoDB 数据库名称&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_USER&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MongoDB 服务的用户名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_PASSWORD&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MongoDB 服务的密码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_HOST&lt;/td>
&lt;td style="text-align: center">127.0.0.1&lt;/td>
&lt;td style="text-align: center">MongoDB 服务的地址，支持数组格式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_PORT&lt;/td>
&lt;td style="text-align: center">27017&lt;/td>
&lt;td style="text-align: center">MongoDB 服务的端口，支持数组格式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_REPLICASET&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MongoDB 集群&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_AUTHSOURCE&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MongoDB 认证源&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MONGO_OPT_SSL&lt;/td>
&lt;td style="text-align: center">FALSE&lt;/td>
&lt;td style="text-align: center">是否使用 SSL 进行连接&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_DB&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MySQL 数据库库名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_USER&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MySQL 数据库的用户名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_PASSWORD&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">MySQL 数据库的密码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_HOST&lt;/td>
&lt;td style="text-align: center">127.0.0.1&lt;/td>
&lt;td style="text-align: center">MySQL 服务的地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_PORT&lt;/td>
&lt;td style="text-align: center">3306&lt;/td>
&lt;td style="text-align: center">MySQL 服务的端口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_PREFIX&lt;/td>
&lt;td style="text-align: center">wl_&lt;/td>
&lt;td style="text-align: center">MySQL 数据表的表前缀&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_CHARSET&lt;/td>
&lt;td style="text-align: center">utf8mb4&lt;/td>
&lt;td style="text-align: center">MySQL 数据表的字符集&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">MYSQL_SSL&lt;/td>
&lt;td style="text-align: center">FALSE&lt;/td>
&lt;td style="text-align: center">是否使用 SSL MYSQL 连接数据库&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_DB&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">TiDB 数据库库名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_USER&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">TiDB 数据库的用户名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_PASSWORD&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">TiDB 数据库的密码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_HOST&lt;/td>
&lt;td style="text-align: center">127.0.0.1&lt;/td>
&lt;td style="text-align: center">TiDB 服务的地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_PORT&lt;/td>
&lt;td style="text-align: center">4000&lt;/td>
&lt;td style="text-align: center">TiDB 服务的端口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_PREFIX&lt;/td>
&lt;td style="text-align: center">wl_&lt;/td>
&lt;td style="text-align: center">TiDB 数据表的表前缀&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TIDB_CHARSET&lt;/td>
&lt;td style="text-align: center">utf8mb4&lt;/td>
&lt;td style="text-align: center">TiDB 数据表的字符集&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SQLITE_PATH&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">SQLite 数据库文件的路径，该路径不包含文件名本身&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">JWT_TOKEN&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">用户登录密钥，随机字符串即可&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SQLITE_DB&lt;/td>
&lt;td style="text-align: center">waline&lt;/td>
&lt;td style="text-align: center">SQLite 数据库文件名，若文件名变化需要修改该字段值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SQLITE_PREFIX&lt;/td>
&lt;td style="text-align: center">wl_&lt;/td>
&lt;td style="text-align: center">SQLite 数据表的表前缀&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_DB&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">PostgreSQL 数据库库名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_USER&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">PostgreSQL 数据库的用户名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_PASSWORD&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">PostgreSQL 数据库的密码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_HOST&lt;/td>
&lt;td style="text-align: center">127.0.0.1&lt;/td>
&lt;td style="text-align: center">PostgreSQL 服务的地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_PORT&lt;/td>
&lt;td style="text-align: center">3211&lt;/td>
&lt;td style="text-align: center">PostgreSQL 服务的端口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_PREFIX&lt;/td>
&lt;td style="text-align: center">wl_&lt;/td>
&lt;td style="text-align: center">PostgreSQL 数据表的表前缀&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">PG_SSL&lt;/td>
&lt;td style="text-align: center">FALSE&lt;/td>
&lt;td style="text-align: center">是否使用 SSL 连接 PostgreSQL 数据库&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_DATABASE&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">同 PG_DB&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_USER&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">同 PG_USER&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_PASSWORD&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">同 PG_PASSWORD&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_HOST&lt;/td>
&lt;td style="text-align: center">127.0.0.1&lt;/td>
&lt;td style="text-align: center">同 PG_HOST&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_PORT&lt;/td>
&lt;td style="text-align: center">3211&lt;/td>
&lt;td style="text-align: center">同 PG_PORT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_PREFIX&lt;/td>
&lt;td style="text-align: center">wl_&lt;/td>
&lt;td style="text-align: center">同 PG_PREFIX&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">POSTGRES_SSL&lt;/td>
&lt;td style="text-align: center">FALSE&lt;/td>
&lt;td style="text-align: center">同 POSTGRES_SSL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TCB_ENV&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">腾讯云开发环境 ID&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TCB_ID&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">腾讯云 API 密钥 ID&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TCB_KEY&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">腾讯云 API 密钥 Key&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">JWT_TOKEN&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">用户登录密钥，如果没有配任何环境变量的话需要配置此变量，随机字符串即可&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">GITHUB_TOKEN&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">Personal access tokensopen in new window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">GITHUB_REPO&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">仓库名称，例如 walinejs/waline&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">GITHUB_PATH&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">数据存储目录，例如 data 表示存储在 data 目录下，默认存在仓库根目录下&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">DETA_PROJECT_KEY&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">Deta 项目密钥&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">OAUTH_URL&lt;/td>
&lt;td style="text-align: center">&lt;a class="link" href="https://oauth.lithub.cc" target="_blank" rel="noopener"
>https://oauth.lithub.cc&lt;/a>&lt;/td>
&lt;td style="text-align: center">OAuth 第三方登录服务地址，可以 自建 authopen in new window 这是能让用户使用 GitHub, Twitter, Facebook, Google, 微博等第三方账户登录最简单的方式。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WEBHOOK&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">评论成功后会向 WEBHOOK 配置的地址发送一条 POST 请求&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">WALINE_ADMIN_MODULE_ASSET_URL&lt;/td>
&lt;td style="text-align: center">//unpkg.com/@waline/admin&lt;/td>
&lt;td style="text-align: center">Waline admin 地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">IP2REGION_DB&lt;/td>
&lt;td style="text-align: center">　&lt;/td>
&lt;td style="text-align: center">自定义 IP 查询库路径&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="indexjs服务端配置">index.js（服务端）配置
&lt;/h5>&lt;p>配置地址:https://github.com/%username%/%repositorie%/blob/main/index.js
配置文档:&lt;a class="link" href="https://waline.js.org/reference/server/config.html" target="_blank" rel="noopener"
>https://waline.js.org/reference/server/config.html&lt;/a>
描述：该文件位于github私有仓库内，其中一些项目与vercel环境变量效果一致。在这里修改过的文件会自动在vercel内重新build。
可配置的项目：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">名称&lt;/th>
&lt;th style="text-align: center">参考&lt;/th>
&lt;th style="text-align: center">说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">plugins&lt;/td>
&lt;td style="text-align: center">plugins: [HelloWorldPlugin],&lt;/td>
&lt;td style="text-align: center">插件系统&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">secureDomains&lt;/td>
&lt;td style="text-align: center">secureDomains: &amp;lsquo;waline.js.org&amp;rsquo;,&lt;/td>
&lt;td style="text-align: center">安全域名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">forbiddenWords&lt;/td>
&lt;td style="text-align: center">forbiddenWords: [&amp;lsquo;违禁词A&amp;rsquo;, &amp;lsquo;违禁词B&amp;rsquo;],&lt;/td>
&lt;td style="text-align: center">违禁词&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">disallowIPList&lt;/td>
&lt;td style="text-align: center">disallowIPList: [&amp;lsquo;8.8.8.8&amp;rsquo;, &amp;lsquo;4.4.4.4&amp;rsquo;],&lt;/td>
&lt;td style="text-align: center">IP 黑名单&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">mailSubject&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">评论回复邮件标题自定义，等同于环境变量 MAIL_SUBJECT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">mailTemplate&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">评论回复邮件内容自定义，等同于环境变量 MAIL_TEMPLATE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">mailSubjectAdmin&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">新评论通知邮件标题自定义，等同于环境变量 MAIL_SUBJECT_ADMIN&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">mailTemplateAdmin&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">新评论通知邮件内容自定义，等同于环境变量 MAIL_TEMPLATE_ADMIN&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">QQTemplate&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">QQ 评论通知模板，等同于环境变量 QQ_TEMPLATE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">TGTemplate&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">Telegram 评论通知模板，等同于环境变量 TG_TEMPLATE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">SCTemplate&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">Server酱 评论通知模板，等同于环境变量 SC_TEMPLATE&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">model&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">自定义数据库服务（见https://waline.js.org/cookbook/customize/database.html）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">encryptPassword&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">自定义用户系统（见https://waline.js.org/cookbook/customize/userdb.html）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">评论 Hooks&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">包含一些自定义HOOK，详情见文档。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">修改过的index.js文件参考如下：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Application&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@waline/vercel&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Application&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//secureDomains: &amp;#39;*.tama.guru&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">COMMENT_AUDIT&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">forbiddenWords&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;***&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;***&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="前端html内配置">前端(html内)配置
&lt;/h5>&lt;p>配置地址:https://%yoursite%/%sitename%.html
配置文档:&lt;a class="link" href="https://waline.netlify.app/client/basic.html" target="_blank" rel="noopener"
>https://waline.netlify.app/client/basic.html&lt;/a>
描述：每个html都可以独立配置以达到不同的显示效果
&lt;strong>注意：以下配置针对v2版本生效，v3未知&lt;/strong>
可配置的项目：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">名称&lt;/th>
&lt;th style="text-align: center">类型&lt;/th>
&lt;th style="text-align: center">说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">el&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">Waline 的初始化挂载器。必须是一个有效的 CSS 选择器。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">serverURL&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">Waline 的服务端地址。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">wordLimit&lt;/td>
&lt;td style="text-align: center">number \ [number, number]&lt;/td>
&lt;td style="text-align: center">评论字数限制。填入单个数字时为最大字数限制。设置为 0 时无限制。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">path&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">当前 文章页 路径，用于区分不同的 文章页，以保证正确读取该 文章页 下的评论列表。默认为&lt;code>window.location.pathname&lt;/code>，可选为&lt;code>window.location.href&lt;/code>或其他。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">avatar&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">Gravatar 头像展示方式。见文档。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">meta&lt;/td>
&lt;td style="text-align: center">string[]&lt;/td>
&lt;td style="text-align: center">评论者相关属性。可选值: &amp;rsquo;nick&amp;rsquo;, &amp;lsquo;mail&amp;rsquo;, &amp;rsquo;link&amp;rsquo;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">pageSize&lt;/td>
&lt;td style="text-align: center">number&lt;/td>
&lt;td style="text-align: center">评论列表分页，每页条数。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">lang&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">多语言支持。可自定义，见文档。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">visitor&lt;/td>
&lt;td style="text-align: center">boolean&lt;/td>
&lt;td style="text-align: center">开启文章访问量统计。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">dark&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">暗黑模式适配。详情见文档。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">highlight&lt;/td>
&lt;td style="text-align: center">boolean&lt;/td>
&lt;td style="text-align: center">代码高亮，默认开启。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">avatarCDN&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">设置 Gravatar 头像 CDN 地址。默认值是https://sdn.geekzu.org/avatar/&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">avatarForce&lt;/td>
&lt;td style="text-align: center">boolean&lt;/td>
&lt;td style="text-align: center">每次访问是否强制拉取最新的评论列表头像&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">emoji&lt;/td>
&lt;td style="text-align: center">(string \ EmojiInfo)[]&lt;/td>
&lt;td style="text-align: center">表情设置，详见文档。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">requiredMeta&lt;/td>
&lt;td style="text-align: center">string[]&lt;/td>
&lt;td style="text-align: center">设置必填项，默认匿名，可填[&amp;rsquo;nick&amp;rsquo;, &amp;lsquo;mail&amp;rsquo;]等&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">uploadImage&lt;/td>
&lt;td style="text-align: center">Function&lt;/td>
&lt;td style="text-align: center">自定义图片上传方法，方便更好的存储图片。方法执行时会将图片对象传入。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">login&lt;/td>
&lt;td style="text-align: center">string&lt;/td>
&lt;td style="text-align: center">登录模式状态，分为&amp;rsquo;enable&amp;rsquo;: 启用登录 (默认) &amp;lsquo;disable&amp;rsquo;: 禁用登录，用户只能填写信息评论 &amp;lsquo;force&amp;rsquo;: 强制登录，用户必须注册并登录才可发布评论&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">copyright&lt;/td>
&lt;td style="text-align: center">boolean&lt;/td>
&lt;td style="text-align: center">是否显示页脚版权信息。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">修改过的html文件参考如下：&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/waline.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;/waline.css&amp;#39;&lt;/span> &lt;span class="na">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;stylesheet&amp;#39;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;waline&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">waline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Waline&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#waline&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">serverURL&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://%yourwalineserversite%&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reaction&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">ture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;nick&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;mail&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">requiredMeta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;mail&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageview&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">search&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">comment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">login&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;disable&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wordLimit&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageSize&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;monsterid&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emoji&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;https://unpkg.com/@waline/emojis@1.2.0/tieba&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//禁止图片上传按钮
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">imageUploader&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//不显示版权标志
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">copyright&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>再次提醒，我引用最新的v3版本会报错，建议用v2。&lt;/strong>&lt;/p></description></item></channel></rss>