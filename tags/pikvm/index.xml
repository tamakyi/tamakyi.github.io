<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pikvm on 狼的公告板 ver.Hugo</title><link>https://blog.tama.guru/tags/pikvm.html</link><description>Recent content in Pikvm on 狼的公告板 ver.Hugo</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>tamakyi</copyright><lastBuildDate>Tue, 26 Aug 2025 01:52:02 +0000</lastBuildDate><atom:link href="https://blog.tama.guru/tags/pikvm/index.xml" rel="self" type="application/rss+xml"/><item><title>使用fruity-pikvm实现在64位raspios上运行pikvm</title><link>https://blog.tama.guru/record/fruity-pikvm.html</link><pubDate>Sat, 08 Feb 2025 11:35:42 +0800</pubDate><guid>https://blog.tama.guru/record/fruity-pikvm.html</guid><description>&lt;p>我这个树莓派4买了好多年，基本上是吃灰的状态。因为自从我买了一套pikvm外设装上去之后，基本上就只能跑pikvm的那个魔改archlinux，我就是感觉各种别扭。一方面32位的arm系统并不能发挥PI4的性能，很多软件（包括一些容器）最低也需要aarch；另一方面，pikvm软件源在国内的访问速度简直就是一坨**，就算是挂了梯子都不一定能连的上，更不用说更新软件了。&lt;/p>
&lt;p>今天偶然发现fruity-pikvm这个项目（https://github.com/jacobbar/fruity-pikvm），看介绍能够&amp;quot;将 PiKVM 安装移植到其他 SBC，如 OrangePi、BananaPi、MangoPi 等。且已在已在 OrangePi Zero 2 上进行了测试，目前，此脚本支持架构 &lt;strong>arm64/aarch64&lt;/strong> 和 armhf/armv7l，并且应该适用于任何基于 Debian 的发行版，例如 Ubuntu、&lt;strong>Debian&lt;/strong>、Armbian 等&amp;hellip;&amp;hellip;&amp;quot;&lt;/p>
&lt;p>哦？&lt;/p>
&lt;p>我直接跑回家下了坨2024-11-19的raspios刷上去，配置完环境之后直接按照步骤执行fruity-pikvm安装:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo apt install -y git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ git clone https://kkgithub.com/jacobbar/fruity-pikvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ &lt;span class="nb">cd&lt;/span> fruity-pikvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/fruity-pikvm $ sudo ./install.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装过程只需要按一下y，其他都是在编译、安装和测试过程。但是最后安装fruity-pikvm时出现了错误：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">--&amp;gt;&amp;gt; installing fruity-pikvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Selecting previously unselected package fruity-pikvm.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dpkg: regarding fruity-pikvm_0.2_arm64.deb containing fruity-pikvm, pre-dependency problem:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fruity-pikvm pre-depends on iptables
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> iptables is not installed.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dpkg: error processing archive fruity-pikvm_0.2_arm64.deb &lt;span class="o">(&lt;/span>--install&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pre-dependency problem - not installing fruity-pikvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Errors were encountered &lt;span class="k">while&lt;/span> processing:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fruity-pikvm_0.2_arm64.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo: kvmd: &lt;span class="nb">command&lt;/span> not found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">reboot and enjoy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>他依赖iptables，但是raspiso默认没有，那装一个完了再重新安装fruity-pikvm就是了：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/fruity-pikvm $ wget https://github.com/jacobbar/fruity-pikvm/releases/download/debfile/fruity-pikvm_0.2_arm64.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/fruity-pikvm $ sudo dpkg -i fruity-pikvm_0.2_arm64.deb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接着继续报错，但是整体是能安装了：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/fruity-pikvm $ sudo dpkg -i fruity-pikvm_0.2_arm64.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>Reading database ... &lt;span class="m">133479&lt;/span> files and directories currently installed.&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Preparing to unpack fruity-pikvm_0.2_arm64.deb ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Unpacking fruity-pikvm &lt;span class="o">(&lt;/span>0.2&lt;span class="o">)&lt;/span> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Setting up fruity-pikvm &lt;span class="o">(&lt;/span>0.2&lt;span class="o">)&lt;/span> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Ensuring KVMD users and groups ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd&amp;#39;&lt;/span> with GID 991.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-pst&amp;#39;&lt;/span> with GID 990.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-ipmi&amp;#39;&lt;/span> with GID 989.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-vnc&amp;#39;&lt;/span> with GID 988.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-nginx&amp;#39;&lt;/span> with GID 987.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-janus&amp;#39;&lt;/span> with GID 986.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-certbot&amp;#39;&lt;/span> with GID 985.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - The main daemon&lt;span class="o">)&lt;/span> with UID &lt;span class="m">991&lt;/span> and GID 991.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-pst&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - Persistent storage&lt;span class="o">)&lt;/span> with UID &lt;span class="m">990&lt;/span> and GID 990.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-ipmi&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - IPMI to KVMD proxy&lt;span class="o">)&lt;/span> with UID &lt;span class="m">989&lt;/span> and GID 989.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-vnc&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - VNC to KVMD/Streamer proxy&lt;span class="o">)&lt;/span> with UID &lt;span class="m">988&lt;/span> and GID 988.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-nginx&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - HTTP entrypoint&lt;span class="o">)&lt;/span> with UID &lt;span class="m">987&lt;/span> and GID 987.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-janus&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - Janus WebRTC Gateway&lt;span class="o">)&lt;/span> with UID &lt;span class="m">986&lt;/span> and GID 986.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-certbot&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>PiKVM - Certbot-Renew &lt;span class="k">for&lt;/span> KVMD-Nginx&lt;span class="o">)&lt;/span> with UID &lt;span class="m">985&lt;/span> and GID 985.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Generating KVMD-Nginx certificate ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ mkdir -p /etc/kvmd/nginx/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ rm -f &lt;span class="s1">&amp;#39;/etc/kvmd/nginx/ssl/*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nb">cd&lt;/span> /etc/kvmd/nginx/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ openssl ecparam -out server.key -name prime256v1 -genkey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ openssl req -new -x509 -sha256 -nodes -key server.key -out server.crt -days &lt;span class="m">3650&lt;/span> -subj /C&lt;span class="o">=&lt;/span>RU/ST&lt;span class="o">=&lt;/span>Moscow/L&lt;span class="o">=&lt;/span>Moscow/O&lt;span class="o">=&lt;/span>PiKVM/OU&lt;span class="o">=&lt;/span>PiKVM/CN&lt;span class="o">=&lt;/span>localhost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chown root:kvmd-nginx /etc/kvmd/nginx/ssl/server.crt /etc/kvmd/nginx/ssl/server.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">440&lt;/span> /etc/kvmd/nginx/ssl/server.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">444&lt;/span> /etc/kvmd/nginx/ssl/server.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">755&lt;/span> /etc/kvmd/nginx/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Generating KVMD-VNC certificate ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ mkdir -p /etc/kvmd/vnc/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ rm -f &lt;span class="s1">&amp;#39;/etc/kvmd/vnc/ssl/*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nb">cd&lt;/span> /etc/kvmd/vnc/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ openssl ecparam -out server.key -name prime256v1 -genkey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ openssl req -new -x509 -sha256 -nodes -key server.key -out server.crt -days &lt;span class="m">3650&lt;/span> -subj /C&lt;span class="o">=&lt;/span>RU/ST&lt;span class="o">=&lt;/span>Moscow/L&lt;span class="o">=&lt;/span>Moscow/O&lt;span class="o">=&lt;/span>PiKVM/OU&lt;span class="o">=&lt;/span>PiKVM/CN&lt;span class="o">=&lt;/span>localhost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chown root:kvmd-vnc /etc/kvmd/vnc/ssl/server.crt /etc/kvmd/vnc/ssl/server.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">440&lt;/span> /etc/kvmd/vnc/ssl/server.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">444&lt;/span> /etc/kvmd/vnc/ssl/server.crt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ chmod &lt;span class="m">755&lt;/span> /etc/kvmd/vnc/ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Disabling nginx service, so that we can use kvmd-nginx instead
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Executing: /lib/systemd/systemd-sysv-install disable nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Removed &lt;span class="s2">&amp;#34;/etc/systemd/system/multi-user.target.wants/nginx.service&amp;#34;&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Disabling janus service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Synchronizing state of janus.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Executing: /lib/systemd/systemd-sysv-install disable janus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Removed &lt;span class="s2">&amp;#34;/etc/systemd/system/multi-user.target.wants/janus.service&amp;#34;&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Ensuring KVMD-Webterm users and groups ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating group &lt;span class="s1">&amp;#39;kvmd-webterm&amp;#39;&lt;/span> with GID 984.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating user &lt;span class="s1">&amp;#39;kvmd-webterm&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>Pi-KVM - Web terminal&lt;span class="o">)&lt;/span> with UID &lt;span class="m">984&lt;/span> and GID 984.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Making tesseract data &lt;span class="nv">link&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Creating symlinks &lt;span class="k">for&lt;/span> use with kvmd python &lt;span class="nv">scripts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Adding path to python &lt;span class="k">for&lt;/span> KVMD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/var/lib/dpkg/info/fruity-pikvm.postinst: line 76: /usr/local/lib/python3.10/dist-packages/site-packages.pth: No such file or &lt;span class="nv">directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Fixing armbian otg &lt;span class="nv">takeover&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Enabling kvmd-nginx kvmd-webterm kvmd-otg and kvmd services, but &lt;span class="k">do&lt;/span> not start them.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-nginx.service → /lib/systemd/system/kvmd-nginx.service.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-webterm.service → /lib/systemd/system/kvmd-webterm.service.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-otg.service → /lib/systemd/system/kvmd-otg.service.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd.service → /lib/systemd/system/kvmd.service.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-fix.service → /lib/systemd/system/kvmd-fix.service.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里报错的&lt;code>/usr/local/lib/python3.10/dist-packages/site-packages.pth: No such file or directory&lt;/code>在项目的issus中有类似表述：（&lt;a class="link" href="https://github.com/jacobbar/fruity-pikvm/issues/5" target="_blank" rel="noopener"
>Use a release with preinstalled python 3.10 for easier installation · Issue #5 · jacobbar/fruity-pikvm&lt;/a>），也就是python库默认没有添加kvmd-packages这个问题，检测是否真的出现可以使用&lt;code>kvmd -m&lt;/code>命令测试，通常会提示&lt;code>No module named 'kvmd'&lt;/code>。解决办法就是手动添加路径到默认库：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo nano /usr/local/lib/python3.10/site-packages/kvmd.pth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#写入内容：&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/lib/python3.10/kvmd-packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#保存&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo nano /usr/local/lib/python3.10/dist-packages/site-packages.pth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#写入内容：&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/lib/python3.10/kvmd-packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#保存&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>/usr/local/lib/python3.10/dist-packages/&lt;/code>这个路径可能不存在，可以手动创建。&lt;/p>
&lt;p>完成之后重启PI，使用IP访问，发现提示500 ISE，检查kvmd-nginx进程发现丢失&lt;code>kvmd.sock&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo systemctl status kvmd-nginx.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">connect&lt;span class="o">()&lt;/span> to unix:/run/kvmd/kvmd.sock failed &lt;span class="o">(&lt;/span>2: No such file or directory&lt;span class="o">)&lt;/span> &lt;span class="k">while&lt;/span> connecting to upstream, client: *.0.0.*, server: localhost, request: &lt;span class="s2">&amp;#34;GET / HTTP/2.0&amp;#34;&lt;/span>, subrequest: &lt;span class="s2">&amp;#34;/auth_check&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个问题在上面的issus上也有提到，但是只说了python库默认没有添加kvmd-packages这个问题如何解决，500报错并没有解决。然后我继续检查日志：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/bin/kvmd&amp;#34;&lt;/span>, line 9, in &amp;lt;module&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: main&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/__init__.py&amp;#34;&lt;/span>, line 75, in main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: KvmdServer&lt;span class="o">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/server.py&amp;#34;&lt;/span>, line 263, in run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: comp.sysprep&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/plugins/hid/otg/__init__.py&amp;#34;&lt;/span>, line 114, in sysprep
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: &lt;span class="nv">udc&lt;/span> &lt;span class="o">=&lt;/span> usb.find_udc&lt;span class="o">(&lt;/span>self.__udc&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/usb.py&amp;#34;&lt;/span>, line 34, in find_udc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: raise RuntimeError&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;Can&amp;#39;t find any UDC&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 14:53:39 akarinbot kvmd&lt;span class="o">[&lt;/span>2180&lt;span class="o">]&lt;/span>: RuntimeError: Can&lt;span class="err">&amp;#39;&lt;/span>t find any UDC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里抛出一个&lt;code>Can't find any UDC&lt;/code>的错误，UDC我查了下应该指的是&lt;code>USB Device Controller&lt;/code>，检查是否有相关设备：&lt;code>lsmod | grep usb&lt;/code>发现返回确实是空值。搜了下这个关键词，在&lt;a class="link" href="https://techblog.jeppson.org/2022/03/fix-kvmd-not-starting-after-updating-pikvm/" target="_blank" rel="noopener"
>Fix KVMD not starting after updating piKVM - Technicus&lt;/a>这篇文章中发现有人提到在PI4上也出现了这个问题，然后我按照他在文章说的修改config.txt配置文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo nano /boot/firmware/config.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#添加以下内容到最后&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>tc358743
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>disable-bt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>dwc2,dr_mode&lt;span class="o">=&lt;/span>peripheral
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#结束&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后再执行&lt;code>lsmod | grep usb&lt;/code>，发现能检测到设备了。作者应该是对照了pikvm官方系统的配置文件和raspios的配置文件发现差异。&lt;/p>
&lt;p>在这个issus下也有相关讨论：&lt;a class="link" href="https://kkgithub.com/Prototyped/pikvm-container/issues/1" target="_blank" rel="noopener"
>RuntimeError：找不到任何 UDC ·问题 #1 ·原型/pikvm 容器&lt;/a>，这里的操作是：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo /usr/sbin/modprobe libcomposite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo nano /etc/modules-load.d/kvmd.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#添加以下内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dwc2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">libcomposite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#保存&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个方法选择不动&lt;code>config.txt&lt;/code>配置文件，看上去也更安全，但是我用的是第一种方法，第二种并没有效果。&lt;/p>
&lt;p>到这里的时候网页端已经能够使用admin/admin访问了，但是进入kvm页面发现无法显示，然后检查日志的时候发现疯狂报错：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd.apps.kvmd.streamer ERROR --- Unexpected streamer error: &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2793&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/streamer.py&amp;#34;&lt;/span>, line 428, in __streamer_task_loop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> raise RuntimeError&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;Streamer unexpectedly died&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">RuntimeError: Streamer unexpectedly died
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd.apps.kvmd.info.system ERROR --- Can&lt;span class="err">&amp;#39;&lt;/span>t parse streamer features
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/info/system.py&amp;#34;&lt;/span>, line 69, in __get_streamer_info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>status, name&lt;span class="o">)&lt;/span> &lt;span class="o">=&lt;/span> map&lt;span class="o">(&lt;/span>str.strip, line.split&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34; &amp;#34;&lt;/span>&lt;span class="o">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ValueError: not enough values to unpack &lt;span class="o">(&lt;/span>expected 2, got 1&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd.apps.kvmd.streamer INFO --- Started streamer &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>2835: /usr/bin/ustreamer --device&lt;span class="o">=&lt;/span>/dev/kvmd-video --persistent --format&lt;span class="o">=&lt;/span>mjpeg --resolution&lt;span class="o">=&lt;/span>1920x1080 --desired-fps&lt;span class="o">=&lt;/span>&lt;span class="m">40&lt;/span> --drop-same-frames&lt;span class="o">=&lt;/span>&lt;span class="m">30&lt;/span> --last-as-blank&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> --unix&lt;span class="o">=&lt;/span>/run/kvmd/ustreamer.sock --unix-rm --unix-mode&lt;span class="o">=&lt;/span>&lt;span class="m">0660&lt;/span> --exit-on-parent-death --process-name-prefix&lt;span class="o">=&lt;/span>kvmd/streamer --notify-parent --no-log-colors --sink&lt;span class="o">=&lt;/span>kvmd::ustreamer::jpeg --sink-mode&lt;span class="o">=&lt;/span>&lt;span class="m">0660&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; /usr/bin/ustreamer: error &lt;span class="k">while&lt;/span> loading shared libraries: libjpeg.so.8: cannot open shared object file: No such file or directory
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kvmd.apps.kvmd.streamer ERROR --- Unexpected streamer error: &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2835&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>他要&lt;code>libjpeg.so.8&lt;/code>这个东西，但很明显我没有：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo find / -name libjpeg*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib/aarch64-linux-gnu/libjpeg.so.62
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib/aarch64-linux-gnu/libjpegxr.so.1.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib/aarch64-linux-gnu/libjpeg.so.62.3.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在https://github.com/jacobbar/fruity-pikvm/issues/5中，他简单粗暴的从5.4的镜像里面提取出libjpeg.so.8和libjpeg.so.8.2.2两个文件扔到系统的&lt;code>/usr/lib/aarch64-linux-gnu&lt;/code>里。现在版本都飞到6.6.74了，肯定是没5.4，那只能自己编译个：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ wget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.290.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel $ tar xvf linux-5.4.290.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel $ &lt;span class="nb">cd&lt;/span> linux-5.4.290
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel $ cp /boot/config-&lt;span class="k">$(&lt;/span>uname -r&lt;span class="k">)&lt;/span> .config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel $ nano .config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#把 #CONFIG_TRUSTED_KEYS is not set 修改为 CONFIG_TRUSTED_KEYS=&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel/linux-5.4.290 $ make menuconfig &lt;span class="c1">#需要调整配置用&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~/kernel $ make -j4 &lt;span class="c1">#四线程编译&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果怕跑到半掉了可以开个screen。&lt;/p>
&lt;p>&lt;strong>但是！我发现另一台不记得是香蕉还是香橙的PI的docker内居然找到了这玩意，反正一样是aarch，直接狠狠替换。&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> tamakyi@akarinbot-arm64:~$ sudo find / -name libjpeg*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>sudo&lt;span class="o">]&lt;/span> tamakyi 的密码：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/var/lib/docker/overlay2/001ccded49667e443e6b0d924d49a33745a8cf2634056ada168e84a81aeae3ac/diff/usr/lib/libjpeg.so.8.2.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/var/lib/docker/overlay2/001ccded49667e443e6b0d924d49a33745a8cf2634056ada168e84a81aeae3ac/diff/usr/lib/libjpeg.so.8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>还是不行，再看一下日志：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:06 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: RuntimeError: Streamer unexpectedly died
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- Started streamer &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>2914: /usr/bin/ustreamer --device&lt;span class="o">=&lt;/span>/dev/kvmd-video --persistent --format&lt;span class="o">=&lt;/span>mjpeg --resolution&lt;span class="o">=&lt;/span>1920x1080 --desired-fps&lt;span class="o">=&lt;/span>&lt;span class="m">40&lt;/span> --drop-same-frames&lt;span class="o">=&lt;/span>&lt;span class="m">30&lt;/span> --last-as-blank&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> --unix&lt;span class="o">=&lt;/span>/run/kvmd/ustreamer.sock --unix-rm --unix-mode&lt;span class="o">=&lt;/span>0660&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; /usr/bin/ustreamer: error &lt;span class="k">while&lt;/span> loading shared libraries: libc.musl-aarch64.so.1: cannot open shared object file: No such file or directory
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer ERROR --- Unexpected streamer error: &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2914&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: Traceback &lt;span class="o">(&lt;/span>most recent call last&lt;span class="o">)&lt;/span>:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: File &lt;span class="s2">&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/streamer.py&amp;#34;&lt;/span>, line 428, in __streamer_task_loop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 16:44:07 akarinbot kvmd&lt;span class="o">[&lt;/span>986&lt;span class="o">]&lt;/span>: raise RuntimeError&lt;span class="o">(&lt;/span>&lt;span class="s2">&amp;#34;Streamer unexpectedly died&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>又缺个&lt;code>libc.musl-aarch64.so.1&lt;/code>，去网上找了下，没有提到这个文件的信息，但是有&lt;code>libc.musl-x86_64.so.1&lt;/code>，换汤不换药嘛，那就&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo apt install musl musl-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo ln -s /usr/lib/aarch64-linux-musl/libc.so /lib/libc.musl-aarch64.so.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo systemctl restart kvmd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>现在登陆进去没异常了，但是提示&lt;code>No Singal&lt;/code>，再看看日志文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- Starting streamer ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- Started streamer &lt;span class="nv">pid&lt;/span>&lt;span class="o">=&lt;/span>8263: /usr/bin/ustreamer --device&lt;span class="o">=&lt;/span>/dev/kvmd-video --persistent --format&lt;span class="o">=&lt;/span>mjpeg --resolution&lt;span class="o">=&lt;/span>1920x1080 --desired-fps&lt;span class="o">=&lt;/span>&lt;span class="m">40&lt;/span> --drop-same-frames&lt;span class="o">=&lt;/span>&lt;span class="m">30&lt;/span> --last-&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.203 main&lt;span class="o">]&lt;/span> -- Starting PiKVM uStreamer 5.37 ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.204 main&lt;span class="o">]&lt;/span> -- Using internal blank placeholder
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.204 main&lt;span class="o">]&lt;/span> -- Using JPEG-sink: kvmd::ustreamer::jpeg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.204 main&lt;span class="o">]&lt;/span> -- Listening HTTP on UNIX socket &lt;span class="s1">&amp;#39;/run/kvmd/ustreamer.sock&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.204 stream&lt;span class="o">]&lt;/span> -- Using V4L2 device: /dev/kvmd-video
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1037.204 stream&lt;span class="o">]&lt;/span> -- Using desired FPS: &lt;span class="m">40&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; &lt;span class="o">================================================================================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:30 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- ERROR &lt;span class="o">[&lt;/span>1037.205 stream&lt;span class="o">]&lt;/span> -- Can&lt;span class="s1">&amp;#39;t access device: No such file or directory
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">2月 07 17:13:30 akarinbot kvmd[7433]: kvmd.apps.kvmd.streamer INFO --- =&amp;gt; -- INFO [1037.205 stream] -- Waiting for the device access ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">2月 07 17:13:30 akarinbot kvmd[7433]: kvmd.apps.kvmd.streamer INFO --- =&amp;gt; -- INFO [1037.206 http] -- Starting HTTP eventloop ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">2月 07 17:13:31 akarinbot kvmd[7433]: aiohttp.access INFO --- [admin (token) / -] &amp;#39;&lt;/span>GET /auth/check HTTP/1.0&lt;span class="s1">&amp;#39; =&amp;gt; 200; size=194 --- referer=&amp;#39;&lt;/span>https://*.*.*.*/kvm/&lt;span class="s1">&amp;#39;; user_agent=&amp;#39;&lt;/span>Mozilla/5.0 &lt;span class="o">(&lt;/span>Linux&lt;span class="p">;&lt;/span> Android 10&lt;span class="p">;&lt;/span> K&lt;span class="o">)&lt;/span> AppleWebKit/537&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2月 &lt;span class="m">07&lt;/span> 17:13:31 akarinbot kvmd&lt;span class="o">[&lt;/span>7433&lt;span class="o">]&lt;/span>: kvmd.apps.kvmd.streamer INFO --- &lt;span class="o">=&lt;/span>&amp;gt; -- INFO &lt;span class="o">[&lt;/span>1038.367 http&lt;span class="o">]&lt;/span> -- HTTP: NEW client &lt;span class="o">(&lt;/span>&lt;span class="nv">now&lt;/span>&lt;span class="o">=&lt;/span>1&lt;span class="o">)&lt;/span>: &lt;span class="o">[&lt;/span>100.74.203.35&lt;span class="o">]&lt;/span>:0, &lt;span class="nv">id&lt;/span>&lt;span class="o">=&lt;/span>bad9da595991fbbf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>基本上正常了，但还有一个&lt;code>Can't access device: No such file or directory&lt;/code>，总之先保证能跑起来了，真是心累。&lt;/p></description></item><item><title>记录在raspbian上折腾pikvm的失败过程</title><link>https://blog.tama.guru/record/pikvm_with_raspbian.html</link><pubDate>Thu, 10 Aug 2023 18:02:00 +0800</pubDate><guid>https://blog.tama.guru/record/pikvm_with_raspbian.html</guid><description>&lt;p>###前言
很久之前买过一款kvm套件，基于树莓派4b的拓展版，能够通过USB和跳线起到控制设备开关机以及远程操作的作用，但是&lt;a class="link" href="https://pikvm.org/" target="_blank" rel="noopener"
>pikvm官方&lt;/a>只发布了基于32位archlinuxarm的固件，在其官网的QA处有这么一段描述：&lt;/p>
&lt;blockquote>
&lt;p>Why is PiKVM OS based on Arch Linux ARM and not Raspbian / Raspberry Pi OS? &amp;amp;gt; There are several reasons:
Several years ago, when PiKVM was just starting out, Raspbian didn‘t have a minimalistic image and the transition to systemd was in full swing, which is why the distribution was not too stable. Raspbian did not have all the necessary packages in the repositories to satisfy most software dependencies.
PiKVM was born as a pet project, and the founder likes Arch the most.
However, we plan to provide an alternative OS image based on Raspbian in the future - now it is quite stable.&lt;/p>&lt;/blockquote>
&lt;p>大概意思就是pikvm起步早，当时raspbian还没成型，且raspbian的库中不能满足pikvm的依赖。&lt;strong>但是官方正在计划做基于raspbian的固件&lt;/strong>，简而言之就是现在没有。
但对我来说，arch系的系统确实难用（&lt;strong>我是debian的狗&lt;/strong>），另一方面我个人觉得，32位系统并不能发挥4B的全部实力。于是今天在逛pikvm的github的时候发现了这么一个issus：&lt;a class="link" href="https://github.com/pikvm/pikvm/issues/374" target="_blank" rel="noopener"
>Running pikvm on top of another OS&lt;/a>下有个评论：
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a19558178.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a19558178.png" alt="github issus" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a19558178.png"
loading="lazy"
alt="github issus"
>
&lt;a class="link" href="https://kvmnerds.com/RPiKVM/How_to_Install_PiKVM_onRaspbian_32-bit_OS.pdf" target="_blank" rel="noopener"
>第一个PDF&lt;/a>介绍了用树莓派官方镜像刷写工具写入32位的raspios并安装pikvm的过程，为什么一定要32位？我不明白。因此决定刷个64位的系统按他的步骤试试看。
###刷个RaspiOS
系统方面我选择的是基于debian 11于20230503更新的当前最新系统。
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a2b421570.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a2b421570.png" alt="raspbian system flash" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4a2b421570.png"
loading="lazy"
alt="raspbian system flash"
>
安装操作流程依照上面的PDF进行，需要注意的是其中提到的&lt;code>enable &amp;amp;quot;Skip first-run wizard&amp;amp;quot;&lt;/code>选项当前已经不存在。
###尝试安装pikvm
进入SSH，下载&lt;code>https://kvmnerds.com/RPiKVM/install-pikvm-raspbian.sh&lt;/code>这个文件并赋予执行权限，然后直接&lt;code>./install-pikvm-raspbian.sh&lt;/code>，开始一长串的wget（请注意:kvmnerds.com这个域名不能直连，需要自配梯子）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Running part &lt;span class="m">1&lt;/span> of PiKVM installer v5.6 script &lt;span class="k">for&lt;/span> Raspbian by @srepac
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Getting Pi-KVM packages from https://kvmnerds.com/REPO/NEW
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW -O /var/cache/kvmd/packages.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/janus-0.11.3-raspbian-armv7l.pkg.tar.xz -O /var/cache/kvmd/janus-0.11.3-raspbian-armv7l.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-rpi2-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-rpi2-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-rpi2-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-rpi2-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-rpi3-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-rpi3-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-rpi3-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-rpi3-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-zero2w-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-zero2w-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmi-zero2w-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-platform-v0-hdmi-zero2w-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-rpi2-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-rpi2-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-rpi3-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-rpi3-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-zero2w-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v0-hdmiusb-zero2w-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-rpi4-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-rpi4-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-zero2w-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-zero2w-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-zerow-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmi-zerow-3.54-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmiusb-rpi4-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v2-hdmiusb-rpi4-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v3-hdmi-rpi4-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v3-hdmi-rpi4-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v4mini-hdmi-rpi4-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v4mini-hdmi-rpi4-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v4plus-hdmi-rpi4-3.241-1-any.pkg.tar.xz -O /var/cache/kvmd/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-platform-v4plus-hdmi-rpi4-3.47-1-any.pkg.tar.xz -O /var/cache/kvmd/k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://kvmnerds.com/REPO/NEW/kvmd-webterm-0.42-1-any.pkg.tar.xz -O /var/cache/kvmd/kvmd-webterm-0.42-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls -l /var/cache/kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">total &lt;span class="m">3912&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">4787&lt;/span> Aug &lt;span class="m">10&lt;/span> 17:05 installer-20230810-17:04:49.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">1858636&lt;/span> Feb &lt;span class="m">13&lt;/span> &lt;span class="m">2022&lt;/span> janus-0.11.3-raspbian-armv7l.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">1144228&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">749608&lt;/span> Feb &lt;span class="m">10&lt;/span> &lt;span class="m">2022&lt;/span> kvmd-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6220&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-rpi2-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6220&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-rpi2-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6280&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-rpi3-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6280&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-rpi3-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6684&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-rpi2-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6684&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-rpi2-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6732&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-rpi3-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6732&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-rpi3-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6704&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-zero2w-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6704&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmiusb-zero2w-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6336&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-zero2w-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6336&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v0-hdmi-zero2w-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6364&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmi-rpi4-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6364&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmi-rpi4-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6888&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmiusb-rpi4-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6888&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmiusb-rpi4-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6372&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmi-zero2w-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6372&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v2-hdmi-zero2w-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">5776&lt;/span> Feb &lt;span class="m">19&lt;/span> &lt;span class="m">2022&lt;/span> kvmd-platform-v2-hdmi-zerow-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">5776&lt;/span> Feb &lt;span class="m">19&lt;/span> &lt;span class="m">2022&lt;/span> kvmd-platform-v2-hdmi-zerow-3.54-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6628&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v3-hdmi-rpi4-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6628&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v3-hdmi-rpi4-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6792&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v4mini-hdmi-rpi4-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6792&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v4mini-hdmi-rpi4-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6792&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v4plus-hdmi-rpi4-3.241-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">6792&lt;/span> Aug &lt;span class="m">7&lt;/span> 08:16 kvmd-platform-v4plus-hdmi-rpi4-3.47-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">5940&lt;/span> Jun &lt;span class="m">26&lt;/span> &lt;span class="m">2022&lt;/span> kvmd-webterm-0.42-1-any.pkg.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">14716&lt;/span> Aug &lt;span class="m">10&lt;/span> 17:04 packages.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Choose which capture device you will use:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">1&lt;/span> - USB dongle
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">2&lt;/span> - v2 CSI
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">3&lt;/span> - V3 HAT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>我的平台是V3 HA3,因此选择3：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Platform selected -&amp;gt; kvmd-platform-v3-hdmi-rpi4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please verify the platform selected above.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Press ENTER to &lt;span class="k">continue&lt;/span> or CTRL+C to &lt;span class="nb">break&lt;/span> out of script.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>回车确认，然后会进入安装依赖和编译过程流程（过程中会有&lt;code>apt does not have a stable CLI interface&lt;/code>的提示，忽略即可）：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">/boot/config.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># For more options and information see&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># http://rpf.io/configtxt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Some settings may impact device functionality. See link above for details&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment if you get no picture on HDMI for a default &amp;#34;safe&amp;#34; mode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#hdmi_safe=1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment the following to adjust overscan. Use positive numbers if console&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># goes off screen, and negative if there is too much border&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#overscan_left=16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#overscan_right=16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#overscan_top=16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#overscan_bottom=16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment to force a console size. By default it will be display&amp;#39;s size minus&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># overscan.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#framebuffer_width=1280&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#framebuffer_height=720&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment if hdmi display is not detected and composite is being output&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#hdmi_force_hotplug=1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment to force a specific HDMI mode (this will force VGA)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#hdmi_group=1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#hdmi_mode=1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment to force a HDMI mode rather than DVI. This can make audio work in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># DMT (computer monitor) modes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#hdmi_drive=2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment to increase signal to HDMI, if you have interference, blanking, or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># no display&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#config_hdmi_boost=4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uncomment for composite PAL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#sdtv_mode=2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#uncomment to overclock the arm. 700 MHz is the default.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#arm_freq=800&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Uncomment some or all of these to enable the optional hardware interfaces&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#dtparam=i2c_arm=on&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#dtparam=i2s=on&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#dtparam=spi=on&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Uncomment this to enable infrared communication.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#dtoverlay=gpio-ir,gpio_pin=17&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#dtoverlay=gpio-ir-tx,gpio_pin=18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Additional overlays and parameters are documented /boot/overlays/README&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Enable audio (loads snd_bcm2835)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtparam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">audio&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Automatically load overlays for detected cameras&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">camera_auto_detect&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Automatically load overlays for detected DSI displays&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">display_auto_detect&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Enable DRM VC4 V3D driver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>vc4-kms-v3d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">max_framebuffers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Run in 64-bit mode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">arm_64bit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Disable compensation for displays with overscan&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">disable_overscan&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>cm4&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Enable host mode on the 2711 built-in XHCI USB controller.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This line should be removed if the legacy DWC2 controller is required&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (e.g. for USB device mode) or if USB support is not required.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">otg_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>all&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>pi4&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Run as fast as firmware / board allows&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">arm_boost&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>all&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># srepac custom configs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">hdmi_force_hotplug&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">gpu_mem&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">128&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">enable_uart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>tc358743
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>disable-bt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>dwc2,dr_mode&lt;span class="o">=&lt;/span>peripheral
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtparam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">act_led_gpio&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">13&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># HDMI audio capture&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>tc358743-audio
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># SPI (AUM)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>spi0-1cs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># I2C (display)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtparam&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">i2c_arm&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Clock&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dtoverlay&lt;/span>&lt;span class="o">=&lt;/span>i2c-rtc,pcf8563
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/modules: kernel modules to load at boot time.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This file contains the names of kernel modules that should be loaded&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># at boot time, one per line. Lines beginning with &amp;#34;#&amp;#34; are ignored.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">i2c-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tc358743
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dwc2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">libcomposite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/udev/rules.d/99-kvmd.rules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># https://unix.stackexchange.com/questions/66901/how-to-bind-usb-device-under-a-static-name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># https://wiki.archlinux.org/index.php/Udev#Setting_static_device_names&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">KERNEL&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s2">&amp;#34;video[0-9]*&amp;#34;&lt;/span>, &lt;span class="nv">SUBSYSTEM&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s2">&amp;#34;video4linux&amp;#34;&lt;/span>, &lt;span class="nv">KERNELS&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s2">&amp;#34;fe801000.csi|fe801000.csi1&amp;#34;&lt;/span>, ATTR&lt;span class="o">{&lt;/span>name&lt;span class="o">}==&lt;/span>&lt;span class="s2">&amp;#34;unicam-
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">KERNEL==&amp;#34;&lt;/span>hidg0&lt;span class="s2">&amp;#34;, GROUP=&amp;#34;&lt;/span>kvmd&lt;span class="s2">&amp;#34;, SYMLINK+=&amp;#34;&lt;/span>kvmd-hid-keyboard&lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">KERNEL==&amp;#34;&lt;/span>hidg1&lt;span class="s2">&amp;#34;, GROUP=&amp;#34;&lt;/span>kvmd&lt;span class="s2">&amp;#34;, SYMLINK+=&amp;#34;&lt;/span>kvmd-hid-mouse&lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">KERNEL==&amp;#34;&lt;/span>hidg2&lt;span class="s2">&amp;#34;, GROUP=&amp;#34;&lt;/span>kvmd&lt;span class="s2">&amp;#34;, SYMLINK+=&amp;#34;&lt;/span>kvmd-hid-mouse-alt&lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-&amp;gt; Installing dependencies for pikvm
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt install -y nginx python3 net-tools bc expect v4l-utils iptables vim dos2unix screen tmate nfs-common gpi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt install -y python3-pip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pip3 install dbus-next
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-aiofiles
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-aiohttp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-appdirs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-asn1crypto
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-async-timeout
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-bottle
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-cffi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-chardet
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-click
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-colorama
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-cryptography
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-dateutil
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-dbus
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-hidapi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-idna
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-libgpiod
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-marshmallow
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-more-itertools
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-multidict
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-netifaces
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-packaging
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-passlib
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pillow
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-ply
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-psutil
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pycparser
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pyelftools
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pyghmi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pygments
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-pyparsing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-requests
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-semantic-version
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-serial
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-setproctitle
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-setuptools
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-six
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-spidev
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-systemd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-tabulate
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-urllib3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-wrapt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-xlib
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-yaml
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-yarl
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt-get install -y python3-serial-asyncio
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Selecting previously unselected package libev4:arm64.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">(Reading database ... 100902 files and directories currently installed.)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Preparing to unpack libev4_4.33-1_arm64.deb ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Unpacking libev4:arm64 (1:4.33-1) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Setting up libev4:arm64 (1:4.33-1) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Processing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">(Reading database ... 100908 files and directories currently installed.)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Preparing to unpack libjson-c5_0.15-2_arm64.deb ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Unpacking libjson-c5:arm64 (0.15-2) over (0.15-2) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Setting up libjson-c5:arm64 (0.15-2) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Processing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">(Reading database ... 100908 files and directories currently installed.)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Preparing to unpack libuv1_1.40.0-2_arm64.deb ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Unpacking libuv1:arm64 (1.40.0-2) over (1.40.0-2) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Setting up libuv1:arm64 (1.40.0-2) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Processing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Selecting previously unselected package ttyd.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">(Reading database ... 100908 files and directories currently installed.)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Preparing to unpack ttyd_1.6.3-3~bpo11+1_arm64.deb ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Unpacking ttyd (1.6.3-3~bpo11+1) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Setting up ttyd (1.6.3-3~bpo11+1) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/ttyd.service → /lib/systemd/system/ttyd.service.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Processing triggers for man-db (2.9.4-2) ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">ttyd version: ttyd version 1.6.3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-&amp;gt; Building ustreamer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">apt install -y build-essential libssl-dev libevent-dev libjpeg-dev libbsd-dev libraspberrypi-dev libgpiod-de
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Cloning into &amp;#39;ustreamer&amp;#39;...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Enumerating objects: 174, done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Counting objects: 100% (174/174), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Compressing objects: 100% (107/107), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Total 174 (delta 62), reused 136 (delta 54), pack-reused 0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Receiving objects: 100% (174/174), 172.77 KiB | 1.31 MiB/s, done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Resolving deltas: 100% (62/62), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make apps
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Entering directory &amp;#39;/tmp/ustreamer&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make -C src
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[2]: Entering directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/base64.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/frame.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/logging.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/memsink.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/options.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC libs/unjpeg.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/blank.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/data/blank_jpeg.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/data/favicon_ico.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/data/index_html.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/device.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/encoder.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/encoders/cpu/encoder.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/encoders/hw/encoder.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/h264.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/bev.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/mime.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/path.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/server.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/static.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/unix.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/uri.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/m2m.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/main.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/options.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/stream.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/workers.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/gpio/gpio.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC ustreamer/http/systemd/systemd.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">== LD ustreamer.bin
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC dump/file.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-- CC dump/main.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">== LD ustreamer-dump.bin
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[2]: Leaving directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Leaving directory &amp;#39;/tmp/ustreamer&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make apps
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Entering directory &amp;#39;/tmp/ustreamer&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make -C src
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[2]: Entering directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[2]: Nothing to be done for &amp;#39;all&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[2]: Leaving directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Leaving directory &amp;#39;/tmp/ustreamer&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make -C src install
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Entering directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">mkdir -p /usr/local/bin
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">install -m755 ustreamer.bin /usr/local/bin/ustreamer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">install -m755 ustreamer-dump.bin /usr/local/bin/ustreamer-dump
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">make[1]: Leaving directory &amp;#39;/tmp/ustreamer/src&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">mkdir -p /usr/local/share/man/man1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">for man in ustreamer.1 ustreamer-dump.1; do \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> install -m644 man/&lt;/span>&lt;span class="nv">$man&lt;/span>&lt;span class="s2"> /usr/local/share/man/man1/&lt;/span>&lt;span class="nv">$man&lt;/span>&lt;span class="s2">; \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> gzip -f /usr/local/share/man/man1/&lt;/span>&lt;span class="nv">$man&lt;/span>&lt;span class="s2">; \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">done
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">ustreamer version/features: 5.41
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">+ WITH_GPIO
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">+ WITH_SYSTEMD
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">+ WITH_PTHREAD_NP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">+ WITH_SETPROCTITLE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">+ HAS_PDEATHSIG
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-&amp;gt; Building wiringpi from source
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Cloning into &amp;#39;WiringPi&amp;#39;...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Enumerating objects: 1733, done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Counting objects: 100% (615/615), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Compressing objects: 100% (114/114), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">remote: Total 1733 (delta 555), reused 502 (delta 501), pack-reused 1118
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Receiving objects: 100% (1733/1733), 803.57 KiB | 1.24 MiB/s, done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Resolving deltas: 100% (1188/1188), done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">wiringPi Build script
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">=====================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WiringPi Library
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[UnInstall]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wiringPi.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wiringSerial.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wiringShift.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] piHiPri.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] piThread.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wiringPiSPI.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wiringPiI2C.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] softPwm.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] softTone.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp23008.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp23016.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp23017.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp23s08.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp23s17.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] sr595.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] pcf8574.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] pcf8591.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp3002.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp3004.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp4802.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] mcp3422.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] max31855.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] max5322.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] ads1115.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] sn3218.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] bmp180.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] htu21d.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] ds18b20.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] rht03.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] drcSerial.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] drcNet.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] pseudoPins.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] wpiExtensions.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c: In function ‘myAnalogRead’:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c:50:16: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 50 | int *ptr = (int *)node-&amp;gt;data0 ;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> | ^
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c: In function ‘myAnalogWrite’:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c:59:16: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 59 | int *ptr = (int *)node-&amp;gt;data0 ;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> | ^
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c: In function ‘pseudoPinsSetup’:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">pseudoPins.c:89:17: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 89 | node-&amp;gt;data0 = (unsigned int)ptr ;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> | ^
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Link (Dynamic)]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Install Headers]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Install Dynamic Lib]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">WiringPi Devices Library
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[UnInstall]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] ds1302.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] maxdetect.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] piNes.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] gertboard.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] piFace.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] lcd128x64.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] lcd.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] scrollPhat.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] piGlow.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Link (Dynamic)]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Install Headers]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Install Dynamic Lib]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">GPIO Utility
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] gpio.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Compile] readall.c
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Link]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">[Install]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">All Done.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">NOTE: To compile programs with wiringPi, you need to add:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> -lwiringPi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> to your compile line(s) To use the Gertboard, MaxDetect, etc.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> code (the devLib), you need to also add:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> -lwiringPiDev
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> to your compile line(s).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">gpio version: 2.70
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Copyright (c) 2012-2018 Gordon Henderson
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">This is free software with ABSOLUTELY NO WARRANTY.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">For details type: gpio -warranty
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Raspberry Pi Details:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> Type: Pi 4B, Revision: 01, Memory: 4096MB, Maker: Sony
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> * Device tree is enabled.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> *--&amp;gt; Raspberry Pi 4 Model B Rev 1.1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> * This Raspberry Pi supports user-level GPIO access.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">-&amp;gt; Enabling kvmd-nginx kvmd-webterm kvmd-otg and kvmd services, but do not start them.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-nginx.service → /lib/systemd/system/kvmd-ng
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-webterm.service → /lib/systemd/system/kvmd-
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-otg.service → /lib/systemd/system/kvmd-otg.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd.service → /lib/systemd/system/kvmd.service.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-fix.service → /lib/systemd/system/kvmd-fix.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-tc358743.service → /lib/systemd/system/kvmd
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Reboot is required to create kvmd users and groups.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Please re-run this script after reboot to complete the install.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Press ENTER to continue or CTRL+C to break out of script.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>最后这里提示&lt;code>Reboot is required to create kvmd users and groups.Please re-run this script after reboot to complete the install.&lt;/code>，会在重启之后创建一个kvmd用户和组，要求重启后再次运行这个脚本，按下回车之后会自动重启。重启过后再次执行脚本进入第二阶段：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Running part &lt;span class="m">2&lt;/span> of PiKVM installer v5.6 script &lt;span class="k">for&lt;/span> Raspbian by @srepac
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Ensuring KVMD users and groups ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Disabling nginx service, so that we can use kvmd-nginx instead
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Executing: /lib/systemd/systemd-sysv-install disable nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Removed /etc/systemd/system/multi-user.target.wants/nginx.service.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Creating symlinks &lt;span class="k">for&lt;/span> use with kvmd python scripts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Creating kvmd-webterm homedir
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x &lt;span class="m">2&lt;/span> kvmd-webterm root &lt;span class="m">4096&lt;/span> Aug &lt;span class="m">10&lt;/span> 17:16 /home/kvmd-webterm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ConfigError: Invalid value &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="k">for&lt;/span> key &lt;span class="s1">&amp;#39;kvmd/streamer/unix&amp;#39;&lt;/span>: None argument is not a valid absolute path
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Did kvmd -m run properly? &lt;span class="o">[&lt;/span>y/n&lt;span class="o">]&lt;/span> y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Restoring config files
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">11360&lt;/span> Nov &lt;span class="m">20&lt;/span> &lt;span class="m">2021&lt;/span> tools.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Getting most current tools.js file... &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">11856&lt;/span> Aug &lt;span class="m">10&lt;/span> 17:18 tools.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root &lt;span class="m">11360&lt;/span> Nov &lt;span class="m">20&lt;/span> &lt;span class="m">2021&lt;/span> tools.js.20230810
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Updating CSS files as per pikvm/pikvm#599: fixed webui windows oversizing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/kvm/stream.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/login/login.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/modal.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/start.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/vars.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/share/kvmd/web/share/css/window.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Job &lt;span class="k">for&lt;/span> kvmd-otg.service failed because the control process exited with error code.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">See &lt;span class="s2">&amp;#34;systemctl status kvmd-otg.service&amp;#34;&lt;/span> and &lt;span class="s2">&amp;#34;journalctl -xe&amp;#34;&lt;/span> &lt;span class="k">for&lt;/span> details.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Found existing installation: Pillow 8.1.2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Not uninstalling pillow at /usr/lib/python3/dist-packages, outside environment /usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Can&lt;span class="s1">&amp;#39;t uninstall &amp;#39;&lt;/span>Pillow&lt;span class="s1">&amp;#39;. No files were found to uninstall.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">Check kvmd devices
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">lrwxrwxrwx 1 root root 6 Aug 10 17:18 /dev/kvmd-video -&amp;gt; video0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">You should see devices for keyboard, mouse, and video.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">Point a browser to https://tama
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">If it doesn&amp;#39;&lt;/span>t work, &lt;span class="k">then&lt;/span> reboot one last time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please make sure kvmd services are running after reboot.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Raspbian pikvm installer script completed on Thu &lt;span class="m">10&lt;/span> Aug 17:18:18 CST &lt;span class="m">2023&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>好像是受上面的配置影响，字面上理解是OTG这部分出问题了，但是不管了，先进&lt;code>https://tama&lt;/code>看看 ：
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4ac937ca7b.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4ac937ca7b.png" alt="500报错" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4ac937ca7b.png"
loading="lazy"
alt="500报错"
> 直接报错了&amp;hellip;查日志看看：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">root@tama:~/pikvm# journalctl -fu kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-- Journal begins at Wed 2023-05-03 11:23:19 CST. --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:26 tama systemd[1]: kvmd.service: Main process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:27 tama kvmd-cleanup[3136]: ConfigError: Invalid value &amp;#39;&amp;#39; for key &amp;#39;kvmd/streamer/unix&amp;#39;: None ar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:27 tama systemd[1]: kvmd.service: Control process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:27 tama systemd[1]: kvmd.service: Failed with result &amp;#39;exit-code&amp;#39;.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:27 tama systemd[1]: kvmd.service: Consumed 1.483s CPU time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:30 tama systemd[1]: kvmd.service: Scheduled restart job, restart counter is at 93.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:30 tama systemd[1]: Stopped PiKVM - The main daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:30 tama systemd[1]: kvmd.service: Consumed 1.483s CPU time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:30 tama systemd[1]: Started PiKVM - The main daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:31 tama kvmd[3148]: ConfigError: Invalid value &amp;#39;&amp;#39; for key &amp;#39;kvmd/streamer/unix&amp;#39;: None argument i
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:31 tama systemd[1]: kvmd.service: Main process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:31 tama kvmd-cleanup[3150]: ConfigError: Invalid value &amp;#39;&amp;#39; for key &amp;#39;kvmd/streamer/unix&amp;#39;: None ar
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:32 tama systemd[1]: kvmd.service: Control process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:32 tama systemd[1]: kvmd.service: Failed with result &amp;#39;exit-code&amp;#39;.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:32 tama systemd[1]: kvmd.service: Consumed 1.490s CPU time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">qAug 10 17:25:35 tama systemd[1]: kvmd.service: Scheduled restart job, restart counter is at 94.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:35 tama systemd[1]: Stopped PiKVM - The main daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 17:25:35 tama systemd[1]: kvmd.service: Consumed 1.490s CPU time.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>直接就卡在启动过程中反复重启了&amp;hellip;
如果再次运行脚本，会提示让你确认命令&lt;code>kvmd -n&lt;/code>能否运行：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Running part &lt;span class="m">2&lt;/span> of PiKVM installer v5.6 script &lt;span class="k">for&lt;/span> Raspbian by @srepac
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">==&lt;/span>&amp;gt; Ensuring KVMD users and groups ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Disabling nginx service, so that we can use kvmd-nginx instead
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Executing: /lib/systemd/systemd-sysv-install disable nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Creating symlinks &lt;span class="k">for&lt;/span> use with kvmd python scripts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-&amp;gt; Creating kvmd-webterm homedir
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x &lt;span class="m">2&lt;/span> kvmd-webterm root &lt;span class="m">4096&lt;/span> Aug &lt;span class="m">10&lt;/span> 17:16 /home/kvmd-webterm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ConfigError: Invalid value &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="k">for&lt;/span> key &lt;span class="s1">&amp;#39;kvmd/streamer/unix&amp;#39;&lt;/span>: None argument is not a valid absolute path
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Did kvmd -m run properly? &lt;span class="o">[&lt;/span>y/n&lt;span class="o">]&lt;/span> n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Please install missing packages as per the kvmd -m output in another ssh/terminal.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>但是直接运行&lt;code>kvmd -m&lt;/code>又会报同样的错：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">root@tama:~/pikvm# kvmd -m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ConfigError: Invalid value &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="k">for&lt;/span> key &lt;span class="s1">&amp;#39;kvmd/streamer/unix&amp;#39;&lt;/span>: None argument is not a valid absolute path
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后我看了眼脚本文件里面有这么一行:
&lt;code># 5.6 05/24/23 - added override entry to fix the Invalid value '' for key 'kvmd/server/unix': None argument error&lt;/code>
(|||ﾟДﾟ)?server报错是没有，但是还有个streamer报错啊？
我上discord翻了下，发现有人也报过这个错误：
&lt;div class="post-img-view">
&lt;a data-fancybox="gallery" href="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4b8cc9513b.png">
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4b8cc9513b.png" alt="discord" />
&lt;/a>
&lt;/div>
&lt;img src="https://r2.337845818.best/oss-to-r2/2023/08/10/64d4b8cc9513b.png"
loading="lazy"
alt="discord"
>
我试着把他这句加到我的配置文件的streamer下面：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> streamer:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> unix: /run/kvmd/kvmd.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> h264_bitrate:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> default: 5000
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>重启之后报错发生改变：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">root@tama:/etc/kvmd# journalctl -fu kvmd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-- Journal begins at Wed 2023-05-03 11:23:19 CST. --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:01 tama systemd[1]: kvmd.service: Scheduled restart job, restart counter is at 33.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:01 tama systemd[1]: Stopped PiKVM - The main daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:01 tama systemd[1]: kvmd.service: Consumed 1.492s CPU time.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:01 tama systemd[1]: Started PiKVM - The main daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama kvmd[6664]: ConfigError: Invalid value &amp;#39;&amp;#39; for key &amp;#39;ipmi/kvmd/unix&amp;#39;: None argument is not a valid absolute path
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama systemd[1]: kvmd.service: Main process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama kvmd-cleanup[6670]: ConfigError: Invalid value &amp;#39;&amp;#39; for key &amp;#39;ipmi/kvmd/unix&amp;#39;: None argument is not a valid absolute path
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama systemd[1]: kvmd.service: Control process exited, code=exited, status=1/FAILURE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama systemd[1]: kvmd.service: Failed with result &amp;#39;exit-code&amp;#39;.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aug 10 18:17:02 tama systemd[1]: kvmd.service: Consumed 1.489s CPU time.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个key&amp;hellip;
要放到哪去？
我放弃了。&lt;/p>
&lt;hr>
&lt;p>###转战blikvm
换个思路，blikvm的文档里面也有一个版本能在64位raspbian上跑，至少看起来是成功了，该文档地址位于：&lt;a class="link" href="https://github.com/ThomasVon2021/blikvm/blob/master/dev-readme.md" target="_blank" rel="noopener"
>https://github.com/ThomasVon2021/blikvm/blob/master/dev-readme.md&lt;/a>
其使用的环境为：&lt;/p>
&lt;ol>
&lt;li>Raspberry Pi OS Lite&lt;/li>
&lt;li>Release date: 20230201&lt;/li>
&lt;li>System: 64-bit&lt;/li>
&lt;li>Kernel version: 5.15&lt;/li>
&lt;li>Debian version: 11 (bullseye)
和新版的除了内核高点之外其他也差不到哪去。所以在最新版本上跑试试。
原文档就不放出来了，真的无力吐槽&amp;hellip;就放一些出问题的地方吧&amp;hellip;&lt;/li>
&lt;li>&lt;code>git clone https://libwebsockets.org/repo/libwebsockets&lt;/code>链接是失效的，应该使用&lt;code>git clone https://github.com/warmcat/libwebsockets&lt;/code>&lt;/li>
&lt;li>php安装内容是偏向7.4的，但是&lt;code>pecl install http://pecl.php.net/get/swoole-5.0.3.tgz&lt;/code>这个地方会报错表示该版本仅支持php8.0+，所以需要修改成4.8.10或者其他版本。还有就是&lt;code>pecl install inotify&lt;/code>这个命令无法直接执行，需要去pecl下载包下来到本地手动安装。&lt;/li>
&lt;li>&lt;code>Install kvmd services&lt;/code>这个地方更是吐血，首先是安装kvmd-main这个阶段，&lt;code>kvmd-main.service&lt;/code>中&lt;code>ExecStart&lt;/code>指向&lt;code>/usr/bin/blikvm/kvmd-main&lt;/code>，但是这个文件并不在这个目录，导致安装会出错，同时这个&lt;code>kvmd-main.service&lt;/code>依赖syslogd，需要手动运行&lt;code>apt install busybox-syslogd&lt;/code>。其他的ustreamer以及kvmd-web均是如此，需要进所有文件去检查，路径有很多都是错的&amp;hellip;
一通修改之后终于见到了熟悉的界面&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">----------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Commercial&lt;/span> &lt;span class="ne">IP&lt;/span> &lt;span class="n">KVM&lt;/span> &lt;span class="n">using&lt;/span> &lt;span class="n">Raspberry&lt;/span> &lt;span class="n">Pi&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">----------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Copyright&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">gzsgcs&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">All&lt;/span> &lt;span class="n">Rights&lt;/span> &lt;span class="n">Reserved&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Unauthorized&lt;/span> &lt;span class="n">copying&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">any&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">this&lt;/span> &lt;span class="n">project&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">via&lt;/span> &lt;span class="n">any&lt;/span> &lt;span class="n">medium&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">strictly&lt;/span> &lt;span class="n">prohibited&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Proprietary&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">confidential&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Written&lt;/span> &lt;span class="n">by&lt;/span> &lt;span class="n">gzsgcs&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">gzsgcs&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">gmail&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">September&lt;/span> &lt;span class="mi">2022&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">----------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">2.11&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">08&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">13&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Program&lt;/span> &lt;span class="n">start&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Bootstrapping&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Checking&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="n">system&lt;/span> &lt;span class="n">read&lt;/span> &lt;span class="n">write&lt;/span> &lt;span class="n">status&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="n">system&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">readable&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">writable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Emulating&lt;/span> &lt;span class="n">network&lt;/span> &lt;span class="n">interfaces&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Interface&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">eth0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">,&lt;/span>&lt;span class="ne">IP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Mask&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Broadcast&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">50.164&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">255.255&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">255.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">50.255&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">You&lt;/span> &lt;span class="n">are&lt;/span> &lt;span class="n">running&lt;/span> &lt;span class="n">Release&lt;/span> &lt;span class="n">Version&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Warning&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Custom&lt;/span> &lt;span class="n">configure&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">found&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">skip&lt;/span>&lt;span class="o">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">admin&lt;/span> &lt;span class="n">config&lt;/span> &lt;span class="n">loaded&lt;/span>&lt;span class="o">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">check&lt;/span> &lt;span class="n">msd&lt;/span> &lt;span class="n">directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Building&lt;/span> &lt;span class="k">static&lt;/span> &lt;span class="n">assets&lt;/span> &lt;span class="n">cache&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Static&lt;/span> &lt;span class="n">assets&lt;/span> &lt;span class="n">cache&lt;/span> &lt;span class="n">build&lt;/span> &lt;span class="n">success&lt;/span>&lt;span class="o">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">MSD&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">JSON&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">exists&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">initializing&lt;/span>&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">MSD&lt;/span> &lt;span class="n">json&lt;/span> &lt;span class="n">initialize&lt;/span> &lt;span class="n">success&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">Current&lt;/span> &lt;span class="n">Resolution&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">640&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="mi">480&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">wait&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">ustreamer&lt;/span> &lt;span class="n">service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">ustreamer&lt;/span> &lt;span class="n">service&lt;/span> &lt;span class="n">has&lt;/span> &lt;span class="n">started&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">08&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">23&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">Log&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">wait&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">janus&lt;/span> &lt;span class="n">service&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>但是依然有好几个服务还没运行成功（janus 和 ustreamer)&amp;hellip;.再慢慢改吧。&lt;/p>
&lt;hr>
&lt;p>不改了，去死吧。&lt;/p></description></item></channel></rss>