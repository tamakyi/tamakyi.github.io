<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>树莓派 on 狼的公告板 ver.Hugo</title>
        <link>https://blog.tama.guru/tags/%E6%A0%91%E8%8E%93%E6%B4%BE.html</link>
        <description>Recent content in 树莓派 on 狼的公告板 ver.Hugo</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>tamakyi</copyright>
        <lastBuildDate>Fri, 01 Aug 2025 15:46:52 +0000</lastBuildDate><atom:link href="https://blog.tama.guru/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>使用fruity-pikvm实现在64位raspios上运行pikvm</title>
        <link>https://blog.tama.guru/record/fruity-pikvm.html</link>
        <pubDate>Sat, 08 Feb 2025 11:35:42 +0800</pubDate>
        
        <guid>https://blog.tama.guru/record/fruity-pikvm.html</guid>
        <description>&lt;p&gt;我这个树莓派4买了好多年，基本上是吃灰的状态。因为自从我买了一套pikvm外设装上去之后，基本上就只能跑pikvm的那个魔改archlinux，我就是感觉各种别扭。一方面32位的arm系统并不能发挥PI4的性能，很多软件（包括一些容器）最低也需要aarch；另一方面，pikvm软件源在国内的访问速度简直就是一坨**，就算是挂了梯子都不一定能连的上，更不用说更新软件了。&lt;/p&gt;
&lt;p&gt;今天偶然发现fruity-pikvm这个项目（https://github.com/jacobbar/fruity-pikvm），看介绍能够&amp;quot;将 PiKVM 安装移植到其他 SBC，如 OrangePi、BananaPi、MangoPi 等。且已在已在 OrangePi Zero 2 上进行了测试，目前，此脚本支持架构 &lt;strong&gt;arm64/aarch64&lt;/strong&gt; 和 armhf/armv7l，并且应该适用于任何基于 Debian 的发行版，例如 Ubuntu、&lt;strong&gt;Debian&lt;/strong&gt;、Armbian 等&amp;hellip;&amp;hellip;&amp;quot;&lt;/p&gt;
&lt;p&gt;哦？&lt;/p&gt;
&lt;p&gt;我直接跑回家下了坨2024-11-19的raspios刷上去，配置完环境之后直接按照步骤执行fruity-pikvm安装:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo apt install -y git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ git clone https://kkgithub.com/jacobbar/fruity-pikvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; fruity-pikvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/fruity-pikvm $ sudo ./install.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装过程只需要按一下y，其他都是在编译、安装和测试过程。但是最后安装fruity-pikvm时出现了错误：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--&amp;gt;&amp;gt; installing fruity-pikvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Selecting previously unselected package fruity-pikvm.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dpkg: regarding fruity-pikvm_0.2_arm64.deb containing fruity-pikvm, pre-dependency problem:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; fruity-pikvm pre-depends on iptables
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  iptables is not installed.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dpkg: error processing archive fruity-pikvm_0.2_arm64.deb &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--install&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; pre-dependency problem - not installing fruity-pikvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Errors were encountered &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; processing:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; fruity-pikvm_0.2_arm64.deb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo: kvmd: &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; not found
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reboot and enjoy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;他依赖iptables，但是raspiso默认没有，那装一个完了再重新安装fruity-pikvm就是了：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/fruity-pikvm $ wget https://github.com/jacobbar/fruity-pikvm/releases/download/debfile/fruity-pikvm_0.2_arm64.deb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/fruity-pikvm $ sudo dpkg -i fruity-pikvm_0.2_arm64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着继续报错，但是整体是能安装了：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/fruity-pikvm $ sudo dpkg -i fruity-pikvm_0.2_arm64.deb 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Reading database ... &lt;span class=&#34;m&#34;&gt;133479&lt;/span&gt; files and directories currently installed.&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Preparing to unpack fruity-pikvm_0.2_arm64.deb ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Unpacking fruity-pikvm &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0.2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Setting up fruity-pikvm &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0.2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Ensuring KVMD users and groups ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd&amp;#39;&lt;/span&gt; with GID 991.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-pst&amp;#39;&lt;/span&gt; with GID 990.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-ipmi&amp;#39;&lt;/span&gt; with GID 989.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-vnc&amp;#39;&lt;/span&gt; with GID 988.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-nginx&amp;#39;&lt;/span&gt; with GID 987.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-janus&amp;#39;&lt;/span&gt; with GID 986.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-certbot&amp;#39;&lt;/span&gt; with GID 985.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - The main daemon&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;991&lt;/span&gt; and GID 991.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-pst&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - Persistent storage&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;990&lt;/span&gt; and GID 990.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-ipmi&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - IPMI to KVMD proxy&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;989&lt;/span&gt; and GID 989.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-vnc&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - VNC to KVMD/Streamer proxy&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;988&lt;/span&gt; and GID 988.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-nginx&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - HTTP entrypoint&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;987&lt;/span&gt; and GID 987.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-janus&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - Janus WebRTC Gateway&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;986&lt;/span&gt; and GID 986.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-certbot&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PiKVM - Certbot-Renew &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; KVMD-Nginx&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;985&lt;/span&gt; and GID 985.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Generating KVMD-Nginx certificate ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ mkdir -p /etc/kvmd/nginx/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ rm -f &lt;span class=&#34;s1&#34;&gt;&amp;#39;/etc/kvmd/nginx/ssl/*&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/kvmd/nginx/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ openssl ecparam -out server.key -name prime256v1 -genkey
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ openssl req -new -x509 -sha256 -nodes -key server.key -out server.crt -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -subj /C&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;RU/ST&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Moscow/L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Moscow/O&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;PiKVM/OU&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;PiKVM/CN&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chown root:kvmd-nginx /etc/kvmd/nginx/ssl/server.crt /etc/kvmd/nginx/ssl/server.key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;440&lt;/span&gt; /etc/kvmd/nginx/ssl/server.key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;444&lt;/span&gt; /etc/kvmd/nginx/ssl/server.crt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /etc/kvmd/nginx/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Generating KVMD-VNC certificate ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ mkdir -p /etc/kvmd/vnc/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ rm -f &lt;span class=&#34;s1&#34;&gt;&amp;#39;/etc/kvmd/vnc/ssl/*&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/kvmd/vnc/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ openssl ecparam -out server.key -name prime256v1 -genkey
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ openssl req -new -x509 -sha256 -nodes -key server.key -out server.crt -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -subj /C&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;RU/ST&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Moscow/L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Moscow/O&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;PiKVM/OU&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;PiKVM/CN&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chown root:kvmd-vnc /etc/kvmd/vnc/ssl/server.crt /etc/kvmd/vnc/ssl/server.key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;440&lt;/span&gt; /etc/kvmd/vnc/ssl/server.key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;444&lt;/span&gt; /etc/kvmd/vnc/ssl/server.crt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+ chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /etc/kvmd/vnc/ssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Disabling nginx service, so that we can use kvmd-nginx instead
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Executing: /lib/systemd/systemd-sysv-install disable nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Removed &lt;span class=&#34;s2&#34;&gt;&amp;#34;/etc/systemd/system/multi-user.target.wants/nginx.service&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Disabling janus service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Synchronizing state of janus.service with SysV service script with /lib/systemd/systemd-sysv-install.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Executing: /lib/systemd/systemd-sysv-install disable janus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Removed &lt;span class=&#34;s2&#34;&gt;&amp;#34;/etc/systemd/system/multi-user.target.wants/janus.service&amp;#34;&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Ensuring KVMD-Webterm users and groups ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating group &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-webterm&amp;#39;&lt;/span&gt; with GID 984.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Creating user &lt;span class=&#34;s1&#34;&gt;&amp;#39;kvmd-webterm&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Pi-KVM - Web terminal&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; with UID &lt;span class=&#34;m&#34;&gt;984&lt;/span&gt; and GID 984.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Making tesseract data &lt;span class=&#34;nv&#34;&gt;link&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Creating symlinks &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; use with kvmd python &lt;span class=&#34;nv&#34;&gt;scripts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Adding path to python &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; KVMD
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/var/lib/dpkg/info/fruity-pikvm.postinst: line 76: /usr/local/lib/python3.10/dist-packages/site-packages.pth: No such file or &lt;span class=&#34;nv&#34;&gt;directory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Fixing armbian otg &lt;span class=&#34;nv&#34;&gt;takeover&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&amp;gt; Enabling kvmd-nginx kvmd-webterm kvmd-otg and kvmd services, but &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; not start them.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-nginx.service → /lib/systemd/system/kvmd-nginx.service.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-webterm.service → /lib/systemd/system/kvmd-webterm.service.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-otg.service → /lib/systemd/system/kvmd-otg.service.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink /etc/systemd/system/multi-user.target.wants/kvmd.service → /lib/systemd/system/kvmd.service.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Created symlink /etc/systemd/system/multi-user.target.wants/kvmd-fix.service → /lib/systemd/system/kvmd-fix.service.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里报错的&lt;code&gt;/usr/local/lib/python3.10/dist-packages/site-packages.pth: No such file or directory&lt;/code&gt;在项目的issus中有类似表述：（&lt;a class=&#34;link&#34; href=&#34;https://github.com/jacobbar/fruity-pikvm/issues/5&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Use a release with preinstalled python 3.10 for easier installation · Issue #5 · jacobbar/fruity-pikvm&lt;/a&gt;），也就是python库默认没有添加kvmd-packages这个问题，检测是否真的出现可以使用&lt;code&gt;kvmd -m&lt;/code&gt;命令测试，通常会提示&lt;code&gt;No module named &#39;kvmd&#39;&lt;/code&gt;。解决办法就是手动添加路径到默认库：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo nano /usr/local/lib/python3.10/site-packages/kvmd.pth
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#写入内容：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/lib/python3.10/kvmd-packages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#保存&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo nano /usr/local/lib/python3.10/dist-packages/site-packages.pth
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#写入内容：&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/lib/python3.10/kvmd-packages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#保存&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;/usr/local/lib/python3.10/dist-packages/&lt;/code&gt;这个路径可能不存在，可以手动创建。&lt;/p&gt;
&lt;p&gt;完成之后重启PI，使用IP访问，发现提示500 ISE，检查kvmd-nginx进程发现丢失&lt;code&gt;kvmd.sock&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo systemctl status kvmd-nginx.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;connect&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; to unix:/run/kvmd/kvmd.sock failed &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;2: No such file or directory&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; connecting to upstream, client: *.0.0.*, server: localhost, request: &lt;span class=&#34;s2&#34;&gt;&amp;#34;GET / HTTP/2.0&amp;#34;&lt;/span&gt;, subrequest: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/auth_check&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这个问题在上面的issus上也有提到，但是只说了python库默认没有添加kvmd-packages这个问题如何解决，500报错并没有解决。然后我继续检查日志：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: Traceback &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;most recent call last&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/bin/kvmd&amp;#34;&lt;/span&gt;, line 9, in &amp;lt;module&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     main&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/__init__.py&amp;#34;&lt;/span&gt;, line 75, in main
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     KvmdServer&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/server.py&amp;#34;&lt;/span&gt;, line 263, in run
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     comp.sysprep&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/plugins/hid/otg/__init__.py&amp;#34;&lt;/span&gt;, line 114, in sysprep
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     &lt;span class=&#34;nv&#34;&gt;udc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; usb.find_udc&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;self.__udc&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/usb.py&amp;#34;&lt;/span&gt;, line 34, in find_udc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     raise RuntimeError&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Can&amp;#39;t find any UDC&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 14:53:39 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2180&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: RuntimeError: Can&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;t find any UDC
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里抛出一个&lt;code&gt;Can&#39;t find any UDC&lt;/code&gt;的错误，UDC我查了下应该指的是&lt;code&gt;USB Device Controller&lt;/code&gt;，检查是否有相关设备：&lt;code&gt;lsmod | grep usb&lt;/code&gt;发现返回确实是空值。搜了下这个关键词，在&lt;a class=&#34;link&#34; href=&#34;https://techblog.jeppson.org/2022/03/fix-kvmd-not-starting-after-updating-pikvm/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Fix KVMD not starting after updating piKVM - Technicus&lt;/a&gt;这篇文章中发现有人提到在PI4上也出现了这个问题，然后我按照他在文章说的修改config.txt配置文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo nano /boot/firmware/config.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#添加以下内容到最后&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;dtoverlay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tc358743
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;dtoverlay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;disable-bt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;dtoverlay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;dwc2,dr_mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;peripheral
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#结束&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后再执行&lt;code&gt;lsmod | grep usb&lt;/code&gt;，发现能检测到设备了。作者应该是对照了pikvm官方系统的配置文件和raspios的配置文件发现差异。&lt;/p&gt;
&lt;p&gt;在这个issus下也有相关讨论：&lt;a class=&#34;link&#34; href=&#34;https://kkgithub.com/Prototyped/pikvm-container/issues/1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;RuntimeError：找不到任何 UDC ·问题 #1 ·原型/pikvm 容器&lt;/a&gt;，这里的操作是：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo /usr/sbin/modprobe libcomposite
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo nano /etc/modules-load.d/kvmd.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#添加以下内容&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dwc2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;libcomposite
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#保存&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这个方法选择不动&lt;code&gt;config.txt&lt;/code&gt;配置文件，看上去也更安全，但是我用的是第一种方法，第二种并没有效果。&lt;/p&gt;
&lt;p&gt;到这里的时候网页端已经能够使用admin/admin访问了，但是进入kvm页面发现无法显示，然后检查日志的时候发现疯狂报错：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd.apps.kvmd.streamer          ERROR --- Unexpected streamer error: &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2793&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Traceback &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;most recent call last&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/streamer.py&amp;#34;&lt;/span&gt;, line 428, in __streamer_task_loop
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    raise RuntimeError&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Streamer unexpectedly died&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RuntimeError: Streamer unexpectedly died
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd.apps.kvmd.info.system       ERROR --- Can&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;t parse streamer features
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Traceback &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;most recent call last&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/info/system.py&amp;#34;&lt;/span&gt;, line 69, in __get_streamer_info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;status, name&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;str.strip, line.split&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ValueError: not enough values to unpack &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;expected 2, got 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd.apps.kvmd.streamer           INFO --- Started streamer &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2835: /usr/bin/ustreamer --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/kvmd-video --persistent --format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mjpeg --resolution&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1920x1080 --desired-fps&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;40&lt;/span&gt; --drop-same-frames&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; --last-as-blank&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; --unix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/run/kvmd/ustreamer.sock --unix-rm --unix-mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0660&lt;/span&gt; --exit-on-parent-death --process-name-prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;kvmd/streamer --notify-parent --no-log-colors --sink&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;kvmd::ustreamer::jpeg --sink-mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0660&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; /usr/bin/ustreamer: error &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; loading shared libraries: libjpeg.so.8: cannot open shared object file: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kvmd.apps.kvmd.streamer          ERROR --- Unexpected streamer error: &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2835&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;他要&lt;code&gt;libjpeg.so.8&lt;/code&gt;这个东西，但很明显我没有：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo find / -name libjpeg*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/lib/aarch64-linux-gnu/libjpeg.so.62
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/lib/aarch64-linux-gnu/libjpegxr.so.1.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/lib/aarch64-linux-gnu/libjpeg.so.62.3.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在https://github.com/jacobbar/fruity-pikvm/issues/5中，他简单粗暴的从5.4的镜像里面提取出libjpeg.so.8和libjpeg.so.8.2.2两个文件扔到系统的&lt;code&gt;/usr/lib/aarch64-linux-gnu&lt;/code&gt;里。现在版本都飞到6.6.74了，肯定是没5.4，那只能自己编译个：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $  wget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.290.tar.xz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel $ tar xvf linux-5.4.290.tar.xz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel $ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; linux-5.4.290
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel $ cp /boot/config-&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;uname -r&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; .config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel $ nano .config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#把 #CONFIG_TRUSTED_KEYS is not set 修改为 CONFIG_TRUSTED_KEYS=&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel/linux-5.4.290 $ make menuconfig &lt;span class=&#34;c1&#34;&gt;#需要调整配置用&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~/kernel $ make -j4 &lt;span class=&#34;c1&#34;&gt;#四线程编译&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果怕跑到半掉了可以开个screen。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;但是！我发现另一台不记得是香蕉还是香橙的PI的docker内居然找到了这玩意，反正一样是aarch，直接狠狠替换。&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;base&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; tamakyi@akarinbot-arm64:~$ sudo find / -name libjpeg*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;sudo&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; tamakyi 的密码：
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/var/lib/docker/overlay2/001ccded49667e443e6b0d924d49a33745a8cf2634056ada168e84a81aeae3ac/diff/usr/lib/libjpeg.so.8.2.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/var/lib/docker/overlay2/001ccded49667e443e6b0d924d49a33745a8cf2634056ada168e84a81aeae3ac/diff/usr/lib/libjpeg.so.8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;还是不行，再看一下日志：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:06 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: RuntimeError: Streamer unexpectedly died
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- Started streamer &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2914: /usr/bin/ustreamer --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/kvmd-video --persistent --format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mjpeg --resolution&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1920x1080 --desired-fps&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;40&lt;/span&gt; --drop-same-frames&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; --last-as-blank&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; --unix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/run/kvmd/ustreamer.sock --unix-rm --unix-mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0660&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; /usr/bin/ustreamer: error &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; loading shared libraries: libc.musl-aarch64.so.1: cannot open shared object file: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer          ERROR --- Unexpected streamer error: &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2914&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: Traceback &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;most recent call last&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:   File &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/lib/python3.10/kvmd-packages/kvmd/apps/kvmd/streamer.py&amp;#34;&lt;/span&gt;, line 428, in __streamer_task_loop
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 16:44:07 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;986&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:     raise RuntimeError&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Streamer unexpectedly died&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;又缺个&lt;code&gt;libc.musl-aarch64.so.1&lt;/code&gt;，去网上找了下，没有提到这个文件的信息，但是有&lt;code&gt;libc.musl-x86_64.so.1&lt;/code&gt;，换汤不换药嘛，那就&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo apt install musl musl-dev
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo ln -s /usr/lib/aarch64-linux-musl/libc.so /lib/libc.musl-aarch64.so.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo systemctl restart kvmd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在登陆进去没异常了，但是提示&lt;code&gt;No Singal&lt;/code&gt;，再看看日志文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tamakyi@akarinbot:~ $ sudo journalctl -u kvmd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- Starting streamer ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- Started streamer &lt;span class=&#34;nv&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;8263: /usr/bin/ustreamer --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/kvmd-video --persistent --format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mjpeg --resolution&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1920x1080 --desired-fps&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;40&lt;/span&gt; --drop-same-frames&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; --last-&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.203      main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Starting PiKVM uStreamer 5.37 ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.204      main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Using internal blank placeholder
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.204      main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Using JPEG-sink: kvmd::ustreamer::jpeg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.204      main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Listening HTTP on UNIX socket &lt;span class=&#34;s1&#34;&gt;&amp;#39;/run/kvmd/ustreamer.sock&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.204    stream&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Using V4L2 device: /dev/kvmd-video
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.204    stream&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Using desired FPS: &lt;span class=&#34;m&#34;&gt;40&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;================================================================================&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:30 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- ERROR &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1037.205    stream&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- Can&lt;span class=&#34;s1&#34;&gt;&amp;#39;t access device: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;2月 07 17:13:30 akarinbot kvmd[7433]: kvmd.apps.kvmd.streamer           INFO --- =&amp;gt; -- INFO  [1037.205    stream] -- Waiting for the device access ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;2月 07 17:13:30 akarinbot kvmd[7433]: kvmd.apps.kvmd.streamer           INFO --- =&amp;gt; -- INFO  [1037.206      http] -- Starting HTTP eventloop ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;2月 07 17:13:31 akarinbot kvmd[7433]: aiohttp.access                    INFO --- [admin (token) / -] &amp;#39;&lt;/span&gt;GET /auth/check HTTP/1.0&lt;span class=&#34;s1&#34;&gt;&amp;#39; =&amp;gt; 200; size=194 --- referer=&amp;#39;&lt;/span&gt;https://*.*.*.*/kvm/&lt;span class=&#34;s1&#34;&gt;&amp;#39;; user_agent=&amp;#39;&lt;/span&gt;Mozilla/5.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Linux&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; Android 10&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; K&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; AppleWebKit/537&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2月 &lt;span class=&#34;m&#34;&gt;07&lt;/span&gt; 17:13:31 akarinbot kvmd&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;7433&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: kvmd.apps.kvmd.streamer           INFO --- &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; -- INFO  &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1038.367      http&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -- HTTP: NEW client &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;100.74.203.35&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:0, &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bad9da595991fbbf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;基本上正常了，但还有一个&lt;code&gt;Can&#39;t access device: No such file or directory&lt;/code&gt;，总之先保证能跑起来了，真是心累。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
